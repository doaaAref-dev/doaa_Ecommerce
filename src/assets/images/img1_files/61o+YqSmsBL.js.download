(function(q){var r=window.AmazonUIPageJS||window.P,x=r._namespace||r.attributeErrors,a=x?x("DetailPageAttachAssets",""):r;a.guardFatal?a.guardFatal(q)(a,window):a.execute(function(){q(a,window)})})(function(q,r,x){"use strict";q.register("attach-variant-registration",function(){function a(a){if(b.hasOwnProperty(a))throw"Variant flag already registered";b[a]=!0}var b={};a("BEATS_COMPRECS_ATTACH_MOBILE_BOTTOM_SHEET_1232995:C");a("CETECH_WTY_MBS_STICKY_BUTTONS_1257103:C");return{registerVariantFlag:a,
getVariantFlag:function(a){return b.hasOwnProperty(a)}}});"use strict";q.when("A","attach-weblabs","attach-logging","attach.amazonapi.cart.add-items").register("attach-baselink",function(a,b,f,e){var h=null;q.when("BaseLinkFormHelper").execute(function(a){h=a});var m=function(a){r.ueLogError&&r.ueLogError({message:"msi - "+a},{logLevel:"ERROR",attribution:"Mobile_App_SI_Base_Link"})};return{createBaseLinkFormFields:function(a,b){return h?h.addBaseLinkFields(a,b):null},addLinkedWarranty:function(a,
b,c){if(!a||!a.baseItemAsin)return m("baseItemAsin is undefined. Abandoning ATC since Base item and Warranty association can not be done."),c();a={asin:a.warrantyAsin,offerListingId:a.offeringId,quantity:parseInt(a.quantity),additionalParameters:{itemAssociation:{associatedItemId:a.baseItemAsin,deleteConstraint:{mutuallyInclusive:!1},quantityConstraint:{invarianceFactor:1,quantityEditable:!0},programType:"AmazonProtect",renderType:"renderAll"}}};e.addItems([a],f.REF_TAGS.WARRANTY_MBS_ADD_TO_CART).then(b).catch(c)},
mSilogError:m}});"use strict";q.when("A").register("attach-external-atc-interceptor",function(a){var b=a.$,f=[],e=[],h=!1,m=!1,p=function(){m=!0},k=function(a){var c=e.indexOf(a);-1<c&&(a=b("#attach_add_accessory_alert_"+c),c=b("#attach_add_accessory_button_"+c),a&&c&&(a.removeClass("aok-hidden"),c.addClass("aok-hidden")))};return{updateAttachModule:function(a){p&&(h?k(a):f.push(a))},loadAttachModule:function(a){if(m)for(h=!0,e=a;0<f.length;)a=f.shift(),k(a)},unloadAttachModule:function(){h=!1;e=
[]},enableModule:p}});"use strict";q.when("A").register("attach-preinitiate-checkout",function(a){return{getCartInitiateId:function(){return(new Date).getTime()},preinitiateCheckout:function(b){var f=a.$("#attach-desktop-sideSheet");var e=a.$("#attach_accessory_sheet");f=f.length?f:e;f.find("iframe#checkoutPrefetch").remove();b="/gp/cart/checkout-prefetch.html?\x26cartInitiateId\x3d"+b;e=document.createElement("iframe");e.setAttribute("src",b);e.setAttribute("style","width:0px;height:0px;display:none;position:absolute;");
e.setAttribute("name","checkoutPrefetch");e.setAttribute("id","checkoutPrefetch");f.append(e)}}});"use strict";q.when("A","attach-common","attach-variant-registration","attach-logging").register("attach-weblabs",function(a,b,f,e){var h={hideBottomSheetForCompRecsWeblab:!1},m=function(b){if(b){var c="";r.ue&&(c=r.ue.id);a.$.ajax({url:"/ussx/weblab-trigger?weblabValue\x3d"+b+"\x26requestId\x3d"+c})}};h.compRecsTriggerWeblab=function(){b.isCustomerLoggedIn()&&(f.getVariantFlag("BEATS_COMPRECS_ATTACH_MOBILE_BOTTOM_SHEET_1232995:C")?
m("BEATS_COMPRECS_ATTACH_MOBILE_BOTTOM_SHEET_1232995"):f.getVariantFlag("BEATS_COMPRECS_ATTACH_MOBILE_BOTTOM_SHEET_1232995:T1")&&(m("BEATS_COMPRECS_ATTACH_MOBILE_BOTTOM_SHEET_1232995"),h.hideBottomSheetForCompRecsWeblab=!0))};h.mbsStickyTriggerWeblab=function(){b.isCustomerLoggedIn()&&(f.getVariantFlag("CETECH_WTY_MBS_STICKY_BUTTONS_1257103:C")||f.getVariantFlag("CETECH_WTY_MBS_STICKY_BUTTONS_1257103:T1")||f.getVariantFlag("CETECH_WTY_MBS_STICKY_BUTTONS_1257103:T2"))&&m("CETECH_WTY_MBS_STICKY_BUTTONS_1257103")};
var p=h.Selectors={CORE_FREE_SHIPPING_MESSAGE:"#attach-core-free-shipping-message",DEBUG_IS_DEBUG:"#attach-debug-isDebug",DEBUG_QUERY_STRING:"#attach-debug-queryString",ATTACH_MARKETPLACE_ID:"#attach-marketplaceId",WTY_TWISTER_CONTAINER:"#warranty-twister-container",DSS_MBS_UI_ENHANCEMENT:"#attach-dss-mbs-enhancement",DSS_MBS_UI_ENHANCEMENT_LD:"#attach-dss-mbs-ld-enhancement",DSS_MBS_EU_COMPLIANCE:"#attach-dss-mbs-eu-compliance",FLOW_MIGRATION:"#attach-gxa-to-flow-migration-enabled",ATTACH_UNIFICATION:"#attach-unification"},
k=h.Marketplaces={IN:"A21TJRUUN4KGV"};h.isWarrantyPaneSuppressed=function(){return a.$(p.ATTACH_MARKETPLACE_ID).val()===k.IN&&(!h.servicesInterstitialDeprecated()||b.hasAccessories())};h.isCoreFreeShippingMessageEnabled=function(){return b.elementExists(p.CORE_FREE_SHIPPING_MESSAGE)};h.isWarrantyTwisterPlusDesktopEnabled=function(){return 0<a.$(p.WTY_TWISTER_CONTAINER).length};h.isFlowMigrationEnabled=function(){return b.elementExists(p.FLOW_MIGRATION)};h.servicesInterstitialDeprecated=function(){return b.elementExists("#attachSIDeprecated")};
h.isDssMbsEnhancementEnabled=function(){return b.elementExists(p.DSS_MBS_UI_ENHANCEMENT)};h.isLdDssMbsEnhancementEnabled=function(){return b.elementExists(p.DSS_MBS_UI_ENHANCEMENT_LD)};h.isDssMbsEuComplianceActive=function(){return b.elementExists(p.DSS_MBS_EU_COMPLIANCE)};h.isAttachUnificationEnabled=function(){return b.elementExists(p.ATTACH_UNIFICATION)};h.isMBSCloseIcon=function(){if(b.isCustomerLoggedIn()&&(f.getVariantFlag("CETECH_WTY_MBS_STICKY_BUTTONS_1257103:T1")||f.getVariantFlag("CETECH_WTY_MBS_STICKY_BUTTONS_1257103:T2")))return!0};
return h});"use strict";q.when("A").register("attach-logging",function(a){var b={},f,e,h;b.NEXUS={PRODUCER_ID:"atch",PRODUCER_ID_WARRANTY:"warranties",ACCESSORY_IMPRESSIONS_PREFIX:"attach.AccessoryImpressions.",ACCESSORY_IMPRESSIONS_SCHEMA_VERSION:"11",ADD_ACCESSORY_PREFIX:"attach.AddAccessoryToCart.",ADD_ACCESSORY_SCHEMA_VERSION:"15",ADD_WARRANTY_PREFIX:"attach.AddWarrantyToCart.",ADD_WARRANTY_SCHEMA_VERSION:"5",ADD_WARRANTY_FAILURE_PREFIX:"attach.AddWarrantyToCartFailure.",ADD_WARRANTY_FAILURE_SCHEMA_VERSION:"3",
WARRANTY_IMPRESSION_PREFIX:"attach.WarrantyImpression.",WARRANTY_IMPRESSION_SCHEMA_VERSION:"6",WARRANTY_WIDGET_INTERACTION_PREFIX:"warranty.widgetInteraction.",WARRANTY_WIDGET_INTERACTION_SCHEMA_VERSION:"3",DSS_WARNING_MESSAGE_PREFIX:"attach.DssWarningMessages.",DSS_WARNING_MESSAGE_VERSION:"2",PROMOTION_CLAIMED_PREFIX:"attach.ClaimPromotion.",PROMOTION_CLAIMED_SCHEMA_VERSION:"2",ACCESSORY_TYPE:{ACCESSORY:"accessory",WARRANTY:"warranty"}};b.FEATURES={DSS:"dss",MBS:"mbs",MBS_APP:"mbs_app",MBS_WEB:"mbs_web"};
b.CSM_METRICS={ATTACH_BASE_ATC_CLICK:"attachDesktopBaseATCClick",ATTACH_BASE_ATC_FAILURE:"ATTACH_DSS_ADD_BASE_FAILURE",ATTACH_BASE_ATC_SUCCESS:"ATTACH_DSS_ADD_BASE_SUCCESS",ATTACH_CART_CLICK:"ATTACH_DSS_CART_BUTTON_CLICK",ATTACH_CHECKOUT_CLICK:"ATTACH_DSS_CHECKOUT_CLICK",ATTACH_GET_CART_DESCRIPTION_FAILURE:"ATTACH_DSS_GET_CART_DESCRIPTION_AJAX_FAILURE",ATTACH_GET_CART_DESCRIPTION_SUCCESS:"ATTACH_DSS_GET_CART_DESCRIPTION_AJAX_SUCCESS",ATTACH_SHOW_LESS:"attachDesktopShowLess",ATTACH_SHOW_MORE:"attachDesktopShowMore",
ATTACH_SIDE_SHEET_CLOSE:"attachDesktopSideSheetClose",ATTACH_UPSELL_ATC_CLICK:"attachDesktopUpsellATCClick",ATTACH_UPSELL_ATC_FAILURE:"ATTACH_DSS_ADD_ACCESSORY_FAILURE",ATTACH_UPSELL_ATC_LATENCY:"attach_desktop_upsell_atc_latency",ATTACH_UPSELL_ATC_SUCCESS:"ATTACH_DSS_ADD_ACCESSORY_SUCCESS",MINI_DP_ATC:"attachDesktopMiniDPATC",MINI_DP_BACK:"attachDesktopMiniDPBack",MINI_DP_CANCEL:"attachDesktopMiniDPCancel",MINI_DP_CAROUSEL_THUMBNAIL_CHANGE:"attachDesktopMiniDPCarouselThumbnailChange",MINI_DP_DWELL_TIME:"attach_desktop_mini_dp_dwell_time",
MINI_DP_OPEN:"attachDesktopMiniDPOpen",ATTACH_MBS_BASE_ATC_CLICK:"AttachMbsBaseItemAtcClick",DSS_BASE_LD_ATC_CLICK:"attachDesktopBaseLightningDealAtcClick",MBS_BASE_LD_ATC_CLICK:"attachMobileBaseLightningDealAtcClick",DSS_BASE_LD_MISSING_TIMER:"attachDesktopBaseLightningDealMissingTimer",MBS_BASE_LD_MISSING_TIMER:"attachMobileBaseLightningDealMissingTimer",DSS_LD_MISSING_ATTACH:"attachDesktopLightningDealMissingAttachContainer",MBS_APP_LD_MISSING_ATTACH:"attachMobileAppLightningDealMissingAttachContainer",
MBS_WEB_LD_MISSING_ATTACH:"attachMobileWebLightningDealMissingAttachContainer",ATTACH_BASE_LD_PRESENT:"attachBaseLightningDeal",ATTACH_BASE_LD_WARRANTY_SUCCESS:"attachBaseLightningDealAddWarrantySuccess",ATTACH_BASE_LD_WARRANTY_FAILURE:"attachBaseLightningDealAddWarrantyFailure",ATTACH_BASE_LD_DEAL_STATUS_ERROR:"attachBaseLightningDealStatusError",ATTACH_MBS_ATC_STAY_AJAX_SUCCESS:"attachMbsAtcStayAjaxSuccess",ATTACH_MBS_ATC_STAY_AJAX_FAILURE:"attachMbsAtcStayAjaxFailure",ATTACH_MBS_ATC_STAY_INCOMPLETE_FAILURE:"attachMbsAtcStayAjaxIncomplete",
ATTACH_MBS_ATC_ADD_ITEMS_API_SUCCESS:"attachMbsAtcAddItemsApiSuccess",ATTACH_MBS_ATC_ADD_ITEMS_API_FAILURE:"attachMbsAtcAddItemsApiFailure",ATTACH_MBS_ATC_ADD_ITEMS_API_INCOMPLETE_FAILURE:"attachMbsAtcAddItemsApiIncomplete",ATTACH_MBS_ATC_GURUPA_SUCCESS:"attachMbsAtcGurupaSuccess",ATTACH_MBS_ATC_GURUPA_FAILURE:"attachMbsAtcGurupaFailure",ATTACH_MBS_GET_CART_SUMMARY_SUCCESS:"attachMbsGetCartSummarySuccess",ATTACH_MBS_GET_CART_SUMMARY_FAILURE:"attachMbsGetCartSummaryFailure",WARRANTY_MBS_APP_ATC_SUCCESS:"warrantyMbsAppAtcSuccess",
WARRANTY_MBS_APP_ATC_FAILURE:"warrantyMbsAppAtcFailure",WARRANTY_MBS_WEB_ATC_SUCCESS:"warrantyMbsWebAtcSuccess",WARRANTY_MBS_WEB_ATC_FAILURE:"warrantyMbsWebAtcFailure",WARRANTY_DSS_ATC_CLICK:"warrantyDssAtcClick",WARRANTY_DSS_ATC_SUCCESS:"warrantyDssAtcSuccess",WARRANTY_DSS_ATC_FAILURE:"warrantyDssAtcFailure",WARRANTY_DSS_WARRANTY_PANE_ATC_CART_API_SUCCESS:"warrantyDssWarrantyPaneAtcCartApiSuccess",WARRANTY_DSS_WARRANTY_PANE_ATC_CART_API_INCOMPLETE:"warrantyDssWarrantyPaneAtcCartApiIncomplete",WARRANTY_DSS_WARRANTY_PANE_ATC_CART_API_FAILURE:"warrantyDssWarrantyPaneAtcCartApiFailure",
WARRANTY_DESKTOP_ATC_BY_ACCESSORIES_PANE_SUCCESS:"warrantyDesktopAtcByAccessoriesPaneSuccess",WARRANTY_DESKTOP_ATC_BY_ACCESSORIES_PANE_INCOMPLETE:"warrantyDesktopAtcByAccessoriesPaneIncomplete",WARRANTY_DESKTOP_ATC_BY_ACCESSORIES_PANE_FAILURE:"warrantyDesktopAtcByAccessoriesPaneFailure",WARRANTY_MOBILE_WEB_ATC_WITH_BASE_SUCCESS:"warrantyMobileWebAtcWithBaseSuccess",WARRANTY_MOBILE_WEB_ATC_WITH_BASE_INCOMPLETE:"warrantyMobileWebAtcWithBaseIncomplete",WARRANTY_MOBILE_WEB_ATC_WITH_BASE_FAILURE:"warrantyMobileWebAtcWithBaseFailure",
WARRANTY_EU_ENHANCED_IMPRESSION_DSS:"warrantyDssEuEnhancedImpression",WARRANTY_EU_ENHANCED_IMPRESSION_MBS_WEB:"warrantyMbsWebEuEnhancedImpression",WARRANTY_EU_ENHANCED_IMPRESSION_MBS_APP:"warrantyMbsAppEuEnhancedImpression",WARRANTY_DSS_EU_ENHANCED_ATC_CLICK:"warrantyDssEuEnhancedAtcClick",WARRANTY_DSS_EU_ENHANCED_ATC_SUCCESS:"warrantyDssEuEnhancedAtcSuccess",WARRANTY_DSS_EU_ENHANCED_ATC_FAILURE:"warrantyDssEuEnhancedAtcFailure",WARRANTY_MBS_WEB_EU_ENHANCED_ATC_CLICK:"warrantyMbsWebEuEnhancedAtcClick",
WARRANTY_MBS_APP_EU_ENHANCED_ATC_CLICK:"warrantyMbsAppEuEnhancedAtcClick",WARRANTY_MBS_WEB_EU_ENHANCED_ATC_SUCCESS:"warrantyMbsWebEuEnhancedAtcSuccess",WARRANTY_MBS_WEB_EU_ENHANCED_ATC_FAILURE:"warrantyMbsWebEuEnhancedAtcFailure",WARRANTY_MBS_APP_EU_ENHANCED_ATC_SUCCESS:"warrantyMbsAppEuEnhancedAtcSuccess",WARRANTY_MBS_APP_EU_ENHANCED_ATC_FAILURE:"warrantyMbsAppEuEnhancedAtcFailure",SHOW_MBS:"attachShowMbs",SHOW_WARRANTY:"attachShowWarranty",SHOW_MBS_ON_APP:"attachShowMbsOnApp",SHOW_MBS_ON_WEB:"attachShowMbsOnWeb",
SHOW_WARRANTY_ON_WEB:"attachShowWarrantyOnWeb",SHOW_WARRANTY_ON_APP:"attachShowWarrantyOnApp"};b.ENDPOINTS={REF_TAG_IN:"/hctp/log/refMarker?ref_\x3d"};b.METRICS={DPX_MOBILE_APP_ATC:"DetailPage_MobileApp_AddToCart",DPX_MOBILE_WEB_ATC:"DetailPage_MobileWeb_AddToCart"};b.initialize=function(a,k){f=a;e=k;b.REF_TAGS={WARRANTY_IMPRESSION:"dp_atc_"+a+"_w_i_",WARRANTY_ADD_TO_CART:"dp_atc_"+a+"_w_y_",WARRANTY_MBS_ADD_TO_CART:"dp_atch_"+a+"_w_y",WARRANTY_WIDGET_INTERACTION:"dp_atc_"+a+"_w_w_i_"}};b.setPayloadBuilder=
function(a){h=function(){var p=a();p.feature=f;p.obfuscatedMarketplaceId=e||r.ue_mid;p.producerId=b.NEXUS.PRODUCER_ID;p.requestId=b.getRandomHexString();return p}};b.getRandomHexString=function(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)};b.log=function(e,k){if(r.ue&&r.ue.event){var c={ssd:!1};e.customerId=a.$("#attach-customerId").val()||null;k==b.NEXUS.WARRANTY_WIDGET_INTERACTION_PREFIX+b.NEXUS.WARRANTY_WIDGET_INTERACTION_SCHEMA_VERSION?r.ue.event(e,b.NEXUS.PRODUCER_ID_WARRANTY,
k,c):r.ue.event(e,b.NEXUS.PRODUCER_ID,k,c)}};b.getAccessoryLoggingData=function(b){return{asin:a.$("#attach-accessory-asin-"+(parseInt(b)+1)).val(),index:b,priceFormatted:a.$("#attach-accessory-price-"+b+" \x3e .a-offscreen").text(),priceDecimal:parseFloat(a.$("#attach-accessory-base-price-"+b).val())||null,currencySymbol:a.$("#attach-accessory-base-currency-symbol-"+b).val()||null,couponDecimal:null,couponType:null,dealType:a.$("#attach-accessory-deal-type-"+b).val()||null,dealPercentSavings:parseInt(a.$("#attach-accessory-deal-percent-savings-"+
b).val())||null,dealDollarAmount:a.$("#attach-accessory-deal-dollar-savings-"+b).val()||null,categoryIndex:a.$("#attach-accessory-category-index-"+b).val()||null,categoryTitle:a.$("#attach-accessory-category-title-"+b).val()||null,asinIndexWithinCategory:a.$("#attach-accessory-asin-category-index-"+b).val()||null}};b.getWarrantyPayload=function(a,b){return{asin:a,priceFormatted:b,priceDecimal:null,currencySymbol:null}};b.logAccessoryAddToCart=function(a){var e=b.NEXUS.ADD_ACCESSORY_PREFIX+b.NEXUS.ADD_ACCESSORY_SCHEMA_VERSION,
c=h();c.type=b.NEXUS.ACCESSORY_TYPE.ACCESSORY;c.displayPosition=parseInt(a.index)+1;c.accessoryAsin=a.asin;c.accessoryAsinPrice=a.priceFormatted;c.accessoryItemCurrencySymbol=a.currencySymbol;c.accessoryItemPriceDecimal=a.priceDecimal;c.couponType=a.couponType;c.couponDecimal=a.couponDecimal;c.dealType=a.dealType;c.dealPercentSavings=a.dealPercentSavings;c.dealDollarAmount=a.dealDollarAmount;c.categoryDisplayPosition=parseInt(a.categoryIndex)+1;c.categoryTitle=a.categoryTitle;c.displayPositionWithinCategory=
parseInt(a.asinIndexWithinCategory)+1;b.log(c,e)};b.logAccessoryImpressions=function(a){var e=b.NEXUS.ACCESSORY_IMPRESSIONS_PREFIX+b.NEXUS.ACCESSORY_IMPRESSIONS_SCHEMA_VERSION,c=h();c.accessories=[];for(var l=0;l<a.length;l++){var d=a[l];c.accessories.push({displayPosition:parseInt(d.index)+1,asin:d.asin,price:d.priceFormatted,currencySymbol:d.currencySymbol,priceDecimal:d.priceDecimal,couponType:d.couponType,couponDecimal:d.couponDecimal,dealType:d.dealType,dealPercentSavings:d.dealPercentSavings,
dealDollarAmount:d.dealDollarAmount,categoryDisplayPosition:parseInt(d.categoryIndex)+1,categoryTitle:d.categoryTitle,displayPositionWithinCategory:parseInt(d.asinIndexWithinCategory)+1})}b.log(c,e)};b.logWarrantyAddToCart=function(e,k){k?(k=b.NEXUS.ADD_WARRANTY_FAILURE_PREFIX+b.NEXUS.ADD_WARRANTY_FAILURE_SCHEMA_VERSION,m(e,k),a.capabilities.isAmazonApp?b.logCount(b.CSM_METRICS.WARRANTY_MBS_APP_ATC_FAILURE):a.capabilities.mobile?b.logCount(b.CSM_METRICS.WARRANTY_MBS_WEB_ATC_FAILURE):b.logCount(b.CSM_METRICS.WARRANTY_DSS_ATC_FAILURE)):
(k=b.NEXUS.ADD_WARRANTY_PREFIX+b.NEXUS.ADD_WARRANTY_SCHEMA_VERSION,m(e,k),a.capabilities.isAmazonApp?b.logCount(b.CSM_METRICS.WARRANTY_MBS_APP_ATC_SUCCESS):a.capabilities.mobile?b.logCount(b.CSM_METRICS.WARRANTY_MBS_WEB_ATC_SUCCESS):b.logCount(b.CSM_METRICS.WARRANTY_DSS_ATC_CLICK),b.logWarrantyRefTag(b.REF_TAGS.WARRANTY_ADD_TO_CART,e.asin))};var m=function(a,e){var c=h();c.asin=a.asin;c.price=a.priceFormatted;c.warrantyCurrencySymbol=a.currencySymbol;c.warrantyPriceDecimal=a.priceDecimal;b.log(c,
e)};b.logWarrantyImpression=function(a){var e=b.NEXUS.WARRANTY_IMPRESSION_PREFIX+b.NEXUS.WARRANTY_IMPRESSION_SCHEMA_VERSION,c=h();c.asin=a.asin;c.price=a.priceFormatted;c.warrantyCurrencySymbol=a.currencySymbol;c.warrantyPriceDecimal=a.priceDecimal;b.log(c,e);b.logWarrantyRefTag(b.REF_TAGS.WARRANTY_IMPRESSION,a.asin)};b.logWarrantyWidgetInteraction=function(a){var e=b.NEXUS.WARRANTY_WIDGET_INTERACTION_PREFIX+b.NEXUS.WARRANTY_WIDGET_INTERACTION_SCHEMA_VERSION,c=h();c.asin=a.asin;c.action=a.action;
b.log(c,e);b.logWarrantyRefTag(b.REF_TAGS.WARRANTY_WIDGET_INTERACTION,a.asin)};b.logWarrantyInteractionData=function(e,h){var c=h.closest(".attach-warranty-box");h=a.$(c).find(".dssMbs__r input[type\x3dcheckbox]")[0].name;c=a.$(c).find("input[name\x3d'asin."+h+"']").val();b.logWarrantyWidgetInteraction({index:h,asin:c,action:e})};b.logWarrantyRefTag=function(a,e){var c=h().baseAsin;b.logRefTag(a+c+"_"+e)};b.logSecondarySheetRefTag=function(a){var e=h().baseAsin;b.logRefTag(a+"_"+e)};b.logRefTag=function(h){"A21TJRUUN4KGV"===
e&&a.get(b.ENDPOINTS.REF_TAG_IN+h)};b.logMobileBaseAtc=function(e){b.logCount(b.CSM_METRICS.ATTACH_MBS_BASE_ATC_CLICK);e&&e.data&&"add-to-cart"===e.data.buttonID&&b.logCount(a.capabilities.isAmazonApp?b.METRICS.DPX_MOBILE_APP_ATC:b.METRICS.DPX_MOBILE_WEB_ATC)};b.logCount=function(a,b){r.ue&&r.ue.count&&(b=b||1,r.ue.count(a,(r.ue.count(a)||0)+b))};b.logCountOnce=function(a){r.ue&&r.ue.count&&!r.ue.count(a)&&r.ue.count(a,1)};b.logError=function(a,b,c){r.ueLogError&&r.ueLogError(a,{logLevel:b||"ERROR",
attribution:c||"DetailPageAttachAssets"})};b.logDSSWarningMessage=function(a){var e=b.NEXUS.DSS_WARNING_MESSAGE_PREFIX+b.NEXUS.DSS_WARNING_MESSAGE_VERSION,c=h();b.log({quantity:c.quantity.toString(),baseAsin:c.baseAsin,warningMessage:a},e)};b.isFunction=function(a){return"function"===typeof a};b.beginLatencyCapture=function(a){b.isFunction(r.uet)&&r.uet("bb",a,{wb:1})};b.endLatencyCapture=function(a){b.isFunction(r.uex)&&r.uex("ld",a,{wb:1})};return b});"use strict";q.when("A","3p-promise","attach-variant-registration",
"attach-logging","attach.utilities.add-to-cart.base-product").register("attach-common",function(a,b,f,e,h){function m(b){var g=p(b,d.UNIQ_ITEM_ASSOC_NAME),e=p(b,d.ITEM_ASSOC_TYPE_NAME),h=1,f=!1;null!==e&&(l.itemAssocTypeValue=b.find(d.INPUT_NAME+e+d.CLOSED_BRACKET).val(),l.itemAssocTypeValue===d.ATTACH_ITEM_ASSOC_TYPE_VALUE&&(f=!0));null!==g?f?(e=p(b,d.ITEM_ASSOC_NAME),f=a.$("#attach-sessionId").val()+"-"+(new Date).getTime(),b.find(d.INPUT_NAME+g+d.CLOSED_BRACKET).val(f),b.find(d.INPUT_NAME+e+d.CLOSED_BRACKET).val(f),
l.uniqueId=f):l.uniqueId=b.find(d.INPUT_NAME+g+d.CLOSED_BRACKET).val():(l.uniqueId=a.$("#attach-sessionId").val()+"-"+(new Date).getTime(),h=c(b,h),k(b,d.ITEM_ASSOC_NAME,l.uniqueId,h),h++,h=c(b,h),k(b,d.UNIQ_ITEM_ASSOC_NAME,l.uniqueId,h),h++,h=c(b,h),k(b,d.ITEM_ASSOC_TYPE_NAME,l.itemAssocTypeValue,h),h++);h=c(b,h);k(b,d.ITEM_ASSOC_PROPERTIES_NAME,d.ITEM_ASSOC_PROPERTIES_VALUE,h)}function p(a,b){a=a.find(d.INPUT_VALUE+b+d.CLOSED_BRACKET);if(!a.length)return null;a=a[0].name.split(".");return 2<a.length?
d.CUSTOM_VALUE_KEY+a[1]+"."+a[2]:null}function k(a,b,d,c){a.append('\x3cinput type\x3d"hidden" name\x3d"custom-name.1.'+c+'" value\x3d"'+b+'"/\x3e');a.append('\x3cinput type\x3d"hidden" name\x3d"custom-value.1.'+c+'" value\x3d"'+d+'"/\x3e')}function c(a,b){for(;0<a.find('input[name\x3d"custom-name.1.'+b+'"]').length||0<a.find('input[name\x3d"custom-value.1.'+b+'"]').length;)b++;return b}var l={},d=l.ItemAssociationConstants={ITEM_ASSOC_NAME:"itemAssoc",UNIQ_ITEM_ASSOC_NAME:"UNIQ-itemAssoc",ITEM_ASSOC_TYPE_NAME:"itemAssocType",
ATTACH_ITEM_ASSOC_TYPE_VALUE:"Attach",ITEM_ASSOC_RENDER_TYPE_NAME:"itemAssocRenderType",ITEM_ASSOC_RENDER_TYPE_VALUE:"renderAll",ITEM_ASSOC_PROPERTIES_NAME:"itemAssocProperties",ITEM_ASSOC_PROPERTIES_VALUE:"{\x26#34;QuantityEditable\x26#34;:\x26#34;1\x26#34;,\x26#34;QuantityInvarianceFactor\x26#34;:\x26#34;1\x26#34;}",CUSTOM_VALUE_KEY:"custom-value.",INPUT_VALUE:"input[value\x3d'",INPUT_NAME:"input[name\x3d'",CLOSED_BRACKET:"']"},D=l.Marketplaces={IN:"A21TJRUUN4KGV",US:"ATVPDKIKX0DER"};l.uniqueId=
null;l.itemAssocTypeValue="Attach";l.selectedBaseLightningDeal=!1;l.cartInitiateId=!1;l.FailureModes={ERROR_500:1,RESUBMIT_BUY_BOX:2,TRANSITION_TO_HUC:3,UNBIND_ATC:4,REBIND_ATC:5};var t=l.Selectors={ADD_TO_CART_BUTTON:"#add-to-cart-button",ATTACH_MARKETPLACE_ID:"#attach-marketplaceId",DISCRIMINATED_OFFERS_ENABLED:"#attach-discriminated-offers-enabled",ATC_FORM:"#addToCart",INSTALLMENTS_FORM:"#mobile-installments",DSS_CART:".attach-cart-button",DSS_PROCEED:".attach-checkout-button",HAS_DDWL:"#attach-has-ddwl",
ATTACH_HAS_RECOMMENDATIONS_FLAG:"#attach-has-recommendations"},z=l.Endpoints={PROCEED_TO_CHECKOUT:"/gp/cart/desktop/go-to-checkout.html?proceedToCheckout\x3dProceed",PROCEED_TO_CART:"/gp/cart/view/html",PROCEED_TO_SMART_WAGON:"/cart/smart-wagon"};l.buyButton=a.$(t.ADD_TO_CART_BUTTON);l.reject=function(b,d,c){return l.rejectPromise(a.$.Deferred(),b,d,c)};l.getInputValueByNameAndIndex=function(b,d){b=a.$('input[name\x3d"'+b+"."+d+'"]')[0];return l.getInputValue(b)};l.getInputValue=function(b){return a.$(b).val()};
l.rejectPromise=function(b,d,c,h){if(c&&c.count&&r.ue&&r.ue.count)if("string"===typeof c.count)r.ue.count(c.count,1);else if(a.$.isArray(c.count))for(var g=0;g<c.count.length;g++)r.ue.count(c.count[g],1);c&&c.information&&e.logError("string"===typeof c.information?{message:c.information}:c.information,c.level,c.attribution);return b.reject(d,c,h)};l.pipeJSON=function(a){try{return JSON.parse(a)}catch(w){return l.reject(null,{count:"ATTACH_DSS_JSON_PARSE_FAILURE"})}};l.unescapeJson=function(a){if(!a)return null;
a=a.replace(/\|\|/g,'"');return a=a.replace(/&pipe;/g,"||")};l.elementExists=function(b){return b?b instanceof a.$?0!==b.length:0!==a.$(b).length:!1};l.moduleExists=function(b){return(b=a.$("#"+b+"_feature_div").html())?0<b.trim().length:!1};l.isCurrencyOfPreferenceApplied=function(){return"true"===a.$("#attach-used-currency-of-preference").val()};l.hasWarranty=function(){return l.elementExists("#attachSIDeprecated")&&l.elementExists("#attach-warranty-pane")||0<a.$("#warrantyEscapedJson").length};
l.hasMonthlyWarranty=function(){return l.elementExists("#attach-monthly-warranty")};l.hasAccessories=function(){return"true"===a.$(t.ATTACH_HAS_RECOMMENDATIONS_FLAG).val()};l.hasDataDrivenWeblab=function(){return"true"===a.$(t.HAS_DDWL).val()};l.isDiscriminatedOffersEnabled=function(){return l.elementExists(t.DISCRIMINATED_OFFERS_ENABLED)?"true"===a.$(t.DISCRIMINATED_OFFERS_ENABLED).val():a.$(t.ATTACH_MARKETPLACE_ID).val()===D.IN};l.addBaseProduct=function(b,d){var c=h.createRequest(l.getAtcForm());
c.isValid()?(c=c.execute(),c.then(function(a){a.response&&!a.error&&"function"===typeof b?b(a):a.error&&"function"===typeof d&&d(a)}),e.logCount(e.CSM_METRICS.ATTACH_BASE_ATC_CLICK),a.trigger("attach:add-base-to-cart",c)):l.submitATCForm()};l.submitATCForm=function(){var b=l.getAtcForm();l.isDiscriminatedOffersEnabled()&&m(b);e.logCount(e.CSM_METRICS.ATTACH_BASE_ATC_CLICK);b=b.serializeArray();var d=l.buyButton.attr("name"),c=l.buyButton.val();b.push({name:d,value:c});b=a.$.param(b);b=a.$.ajax({type:"POST",
url:"/gp/product/handle-buy-box/ref\x3ddp_start-bbf_1_glance",data:b,headers:{Accept:"text/html,*/*"}});b.fail(function(a){e.logCount(e.CSM_METRICS.ATTACH_BASE_ATC_FAILURE);e.logError({message:"Base product ATC call failed: "+a.status})});a.trigger("attach:add-base-to-cart",b)};l.getAtcForm=function(){return l.buyButton.closest("form")};l.isMTAEnabledForAttach=function(){return!1};l.getDeferredFromPromise=function(b){var d=a.$.Deferred();b.then(function(a){d.resolve(a)}).catch(function(a){d.reject(a)});
return d.promise()};l.getPromiseFromDeferred=function(a){return new b(function(b,d){a.then(b).fail(d)})};l.bindEventToCallback=function(b,d,c){a.$(b).unbind(d,c);a.$(b).bind(d,c)};l.setupDesktopEgressButtons=function(){l.bindEventToCallback(t.DSS_CART,"click",function(){e.logCount(e.CSM_METRICS.ATTACH_CART_CLICK)});l.bindEventToCallback(t.DSS_PROCEED,"click",function(){e.logCount(e.CSM_METRICS.ATTACH_CHECKOUT_CLICK);var a=z.PROCEED_TO_CHECKOUT;document.location=l.cartInitiateId?a+"\x26cartInitiateId\x3d"+
l.cartInitiateId+"\x26ref_\x3ddp_atch_dss_proceed":a+"\x26ref_\x3ddp_atch_dss_proceed"})};l.proceedToCart=function(a){r.location="string"===typeof a?z.PROCEED_TO_CART+"?ref_\x3d"+a:z.PROCEED_TO_CART};l.proceedToSmartWagon=function(a,b){r.location=z.PROCEED_TO_SMART_WAGON+"?newItems\x3d"+a+","+b};l.isPromise=function(b){return b&&a.$.isFunction(b.then)&&a.$.isFunction(b.catch)};l.isCustomerLoggedIn=function(){return!!a.$("#attach-customerId, #attach-customer-id").val()};l.isMarketplaceUS=function(){return a.$(t.ATTACH_MARKETPLACE_ID).val()===
D.US};return l});"use strict";q.when("A","attach-common","attach-logging","attach-baselink","attach-weblabs","attach-variant-registration","attach.utilities.focus-management").register("attach-desktop-warranty-pane",function(a,b,f,e,h,m,p){var k={name:"warranty"},c=k.Selectors={ASIN:"#attach-warranty-asin",PRICE_FORMATTED:"#attach-accessory-price-warranty",PRICE_AMOUNT:"#attach-accessory-price-warranty-amount",BASE_ASIN:'input[name\x3d"items[0.base][asin]"], #ASIN',MARKETPLACE_ID:"#attach-marketplaceId",
BASE_CURRENCY_SYMBOL:"#attach-base-product-currency-symbol",ATC_QUANTITY:"#quantity",ATC_DEAL_QUANTITY:"#dealx_quantity_dropdown",ATC_WARRANTY:".attach-warranty-input",JSON_DATA:"#warrantyEscapedJson",PANE:"#attach-warranty-pane",PANE_IMAGE:"#attach-sheet-warranty-image",PANE_WARRANTY_IMAGE:".attach-warranty-image",PANE_UPSELL_IMAGE:"#attach-sheet-warranty-upsell-image",PANE_ADD_BUTTON:"#attachSiAddCoverage",PANE_ADD_BUTTON_T1:".attachSiAddCoverage",PANE_NO_BUTTON:"#attachSiNoCoverage",PANE_NO_BUTTON_EU_ENHANCED:"#attachSiNoCoverage-eu-enhanced",
PANE_ADD_BUTTON_EU_ENHANCED:"#attachSiAddCoverage-eu-enhanced",PANE_WARRANTY_TITLE:"#attach-warranty-displayTitle",PANE_EXPERIMENT_DISPLAY:"#attach-warranty-experiment-display",PANE_REGULAR_DISPLAY:"#attach-warranty-display",WARRANTY_CHECKBOX:".dssMbs__r input[type\x3dcheckbox]",WARRANTY_NOT_ADDED:"#attach-no-warranty-alert",WARRANTY_NOT_ADDED_T1:".attach-no-warranty-alert",WARRANTY_LEARN_MORE_HEADER:".attach-warranty-learn-more",WARRANTY_REVIEW_LINK:".warranty-review-link",WARRANTY_POLICY_DOCUMENTS:".warranty-policy-documents",
WARRANTY_DETAIL_PAGE_LINK:".warranty-detail-page-link",WARRANTY_BOX:".attach-warranty-box",BUY_BOX:"#buybox",PANE_LD:"#attach-warranty-pane-ld",PANE_ADD_BUTTON_LD:"#attachSiAddCoverage-ld",PANE_ADD_BUTTON_LD_T1:".attachSiAddCoverage-ld",PANE_NO_BUTTON_LD:"#attachSiNoCoverage-ld",EU_ENHANCED_CHECKBOXES:'#attach-warranty-options-container-eu-enhanced input[type\x3d"checkbox"]',EU_ENHANCED_PLAN_OPTION_PREFIX:"#attach-warranty-option-eu-enhanced-",EU_ENHANCED_TITLE:"#attach-warranty-title-eu-enhanced",
EU_ENHANCED_BULLETS_LIST:"#attach-warranty-bullets-list-eu-enhanced",EU_ENHANCED_BULLETS_TEMPLATE_PREFIX:"#attach-warranty-bullets-template-eu-enhanced-",EU_ENHANCED_TITLE_TEMPLATE_PREFIX:"#attach-warranty-title-template-eu-enhanced-",EU_ENHANCED_WARRANTY_NOT_ADDED:"#attach-warranty-not-added-alert-eu-enhanced",EU_ENHANCED_MORE_DETAILS:"#attach-warranty-more-details-eu-enhanced",EU_ENHANCED_MORE_DETAILS_LINK:"#attach-warranty-more-details-eu-enhanced a.warranty-detail-page-link",EU_ENHANCED_MORE_DETAILS_TEXT:"#attach-warranty-more-details-text-eu-enhanced",
EU_ENHANCED_EXPERIENCE:'[data-experience-type\x3d"eu-enhanced"]',STANDARD_EXPERIENCE:'[data-experience-type\x3d"standard"]'};k.getWarrantyLoggingPayload=function(){var e=a.$(c.ASIN).val(),d=a.$(c.PRICE_FORMATTED),f=a.$(c.PRICE_AMOUNT);return!h.servicesInterstitialDeprecated()&&b.elementExists(f)?{asin:e,priceFormatted:d.text().trim(),priceDecimal:parseFloat(f.val())||null,currencySymbol:a.$(c.BASE_CURRENCY_SYMBOL).val()||null}:{asin:e,priceFormatted:d.text().trim(),priceDecimal:null,currencySymbol:null}};
k.appendWarrantyToATCForm=function(l,d){if(a.$(c.BASE_ASIN).val()&&l&&d){var f=b.getAtcForm();f.append('\x3cinput type\x3d"hidden" id\x3d"useABBHandler" class\x3d"attach-warranty-input" name\x3d"useABBHandler" value\x3d"1" /\x3e');var k=1;h.isWarrantyTwisterPlusDesktopEnabled()&&(k+=1);k=f.find("input[name^\x3d'offeringID']").length+k;var m=a.$(c.BUY_BOX).find("form").filter(":visible").first().find('[name\x3d"items[0.base][quantity]"]').val()||1,g="quantity."+k,p="asin."+k;f.find('input[name\x3d"'+
g+'"]').remove();f.find('input[name\x3d"'+p+'"]').remove();f.append('\x3cinput type\x3d"hidden" id\x3d"'+g+'" name\x3d"'+g+'" value\x3d"'+m+'" class\x3d"attach-warranty-input" /\x3e');f.append('\x3cinput type\x3d"hidden" id\x3d"'+p+'" name\x3d"'+p+'" value\x3d"'+l+'" class\x3d"attach-warranty-input" /\x3e');f.append('\x3cinput type\x3d"hidden" id\x3d"offeringID.'+k+'" name\x3d"offeringID.'+k+'" value\x3d"'+d+'" class\x3d"attach-warranty-input"/\x3e');f.append('\x3cinput type\x3d"hidden" name\x3d"items[0.warranty][quantity]" value\x3d"'+
m+'" class\x3d"attach-warranty-input" /\x3e');f.append('\x3cinput type\x3d"hidden" name\x3d"items[0.warranty][asin]" value\x3d"'+l+'" class\x3d"attach-warranty-input" /\x3e');f.append('\x3cinput type\x3d"hidden" name\x3d"items[0.warranty][offerListingId]" value\x3d"'+d+'" class\x3d"attach-warranty-input" /\x3e');l=f.find('input[name\x3d"itemCount"]');0===l.length?f.append('\x3cinput type\x3d"hidden" name\x3d"itemCount" value\x3d"'+k+'"\x3e'):l[0].value=k;a.$("#atch__bl").length&&e.createBaseLinkFormFields(k+
1,f)}};k.clearWarrantyFromATCForm=function(){b.getAtcForm().find(c.ATC_WARRANTY).remove()};k.load=function(e){if(h.servicesInterstitialDeprecated()){if(b.elementExists(c.PANE))a.$(c.PANE).removeClass("aok-hidden");else return b.reject(b.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_WARRANTY_LOAD_FAILURE"});if(b.selectedBaseLightningDeal)if(b.elementExists(c.PANE_LD))a.$(c.PANE+", "+c.PANE_LD).toggleClass("aok-hidden");else return b.reject(b.FailureModes.UNBIND_ATC);b.elementExists(c.PANE_EXPERIMENT_DISPLAY)&&
a.$(c.PANE_EXPERIMENT_DISPLAY).remove()}else{if(b.elementExists(c.JSON_DATA)){var d=b.unescapeJson(a.$(c.JSON_DATA).val());d=JSON.parse(d)}return d?k.renderClientSide(e,d):b.reject(b.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_WARRANTY_LOAD_FAILURE"})}};k.renderClientSide=function(b,d){var c="",e=d.baseASIN,h="dp_atch_dss_w_lm_"+e+"_"+d.asin,g="dp_atch_dss_w_r_"+e+"_"+d.asin;e="dp_atch_dss_w_lm_"+e+"_"+d.asin;var f=a.$("#stringTranslation-si-warranty-title").val(),l=a.$("#stringTranslation-si-accident-protection").val(),
k=a.$("#stringTranslation-si-from").val(),m=a.$("#stringTranslation-si-rating-out-of-5-stars").val(),p=a.$("#stringTranslation-item-added-to-cart").val(),q=a.$("#stringTranslation-desktop-attach-accessory-failed-add-to-cart").val(),y=a.$("#stringTranslation-desktop-attach-accessory-retry").val(),E=a.$("#stringTranslation-si-add-coverage").val(),v=a.$("#stringTranslation-si-no-thanks").val(),F=a.$("#stringTranslation-services-bundle-detail-link").val();c+='   \x3cdiv id\x3d"attach-warranty-pane" class\x3d"a-section"\x3e\n       \x3cdiv id\x3d"attach-warranty" class\x3d"a-section attach-sidesheet-card"\x3e\n           \x3cinput type\x3d"hidden" name\x3d"" value\x3d"'+
d.asin+'" id\x3d"attach-warranty-asin"\x3e\n           \x3ch1 class\x3d"a-size-medium a-spacing-none a-color-base a-text-center"\x3e'+f+'\x3c/h1\x3e\n           \x3chr class\x3d"a-spacing-base a-spacing-top-small a-divider-normal attach-warranty-divider"\x3e\n           \x3cdiv class\x3d"a-row a-spacing-micro"\x3e\n';null!==d.thumbImage&&(c+='                \x3cdiv class\x3d"a-column a-span2"\x3e\n                    \x3cimg id\x3d"attach-sheet-warranty-image" src\x3d"" data-image-url\x3d"'+d.thumbImage+
'" class\x3d"attach-accessory-image"\x3e\n                \x3c/div\x3e\n');c+='                \x3cdiv class\x3d"a-column a-span10 a-span-last"\x3e\n                    \x3ca class\x3d"a-size-large a-spacing-micro a-link-normal a-color-base" id\x3d"attach-warranty-displayTitle" target\x3d"_blank" rel\x3d"noopener" href\x3d"/dp/'+d.asin+"/ref\x3d"+h+'"\x3e\n                        \x3cstrong\x3e'+(null!==d.displayTitle?d.displayTitle:l.replace("${brandName}",d.brandName))+'\x3c/strong\x3e\n                    \x3c/a\x3e\n                    \x3cbr\x3e\n                    \x3cspan class\x3d"a-size-base a-color-secondary"\x3e'+
k+" "+d.merchantName+"\x3c/span\x3e\n";Number(d.averageRating)&&Number(d.numReviews)&&Number(d.numFullStars)&&"boolean"===typeof d.hasHalfStar&&(h=m.replace("${averageRating}",d.averageRating),c+='                    \x3cdiv class\x3d"a-icon-row a-spacing-micro"\x3e\n                        \x3ca class\x3d"a-link-normal" href\x3d"/product-reviews/'+d.asin+"/ref\x3d"+g+'?ie\x3dUTF8\x26amp;showViewpoints\x3d1"\x3e\n                            \x3ci class\x3d"a-icon a-icon-star a-star-'+d.numFullStars+
(d.hasHalfStar?"-5":"")+'"\x3e\x3cspan class\x3d"a-icon-alt"\x3e'+h+'\x3c/span\x3e\x3c/i\x3e\n                        \x3c/a\x3e\n                        \x3ca class\x3d"a-link-normal" href\x3d"/product-reviews/'+d.asin+"/ref\x3d"+g+'?ie\x3dUTF8\x26amp;showViewpoints\x3d1"\x3e\n                            '+d.numReviews+"\n                        \x3c/a\x3e\n                    \x3c/div\x3e\n");null!==d.buyingPriceAmount&&(c+='                    \x3cinput id\x3d"attach-accessory-price-warranty-amount" type\x3d"hidden" value\x3d"'+
d.buyingPriceAmount+'"\x3e\n');c+='                    \x3cspan id\x3d"attach-accessory-price-warranty" class\x3d"a-size-large a-color-base attach-warranty-price"\x3e'+d.formattedBuyingPrice+'\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"a-row"\x3e\n                \x3cdiv class\x3d"a-column a-span12"\x3e\n                    \x3cdiv id\x3d"warrantyBulletRowWrapper" class\x3d"a-section"\x3e\n                        \x3cdiv class\x3d"a-row a-spacing-micro"\x3e\n                            \x3cul class\x3d"a-unordered-list a-vertical a-spacing-none"\x3e\n';
for(g=0;g<d.bulletPoints.length;g++)c+='                                \x3cli\x3e\x3cspan class\x3d"a-list-item"\x3e'+d.bulletPoints[g].text+"\x3c/span\x3e\x3c/li\x3e\n";c+='                            \x3c/ul\x3e\n                        \x3c/div\x3e\n                        \x3cdiv id\x3d"attachWarrantyButtonWrapper" class\x3d"a-section a-box-inner a-color-alternate-background"\x3e\n                            \x3cdiv id\x3d"attachWarrantyButtonInnerWrapper" class\x3d"a-section a-box-inner"\x3e\n                                \x3cdiv id\x3d"attach_add_accessory_alert_warranty" class\x3d"a-box a-alert-inline a-alert-inline-success aok-hidden attach_add_accessory_alert"\x3e\n                                    \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                                        \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                                        \x3cdiv class\x3d"a-alert-content"\x3e\n                                            \x3cspan class\x3d"a-size-base a-color-success"\x3e'+
p+'\x3c/span\x3e\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                                \x3cdiv id\x3d"attach_add_accessory_error_warranty" class\x3d"a-box a-alert-inline a-alert-inline-error aok-hidden attach_add_accessory_alert" aria-live\x3d"assertive" role\x3d"alert"\x3e\n                                    \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                                        \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                                        \x3cdiv class\x3d"a-alert-content"\x3e\n                                            \x3cspan class\x3d"a-size-base"\x3e\n                                                '+
q+'\x3cbr\x3e\n                                            \x3c/span\x3e\n                                            \x3ca class\x3d"a-link-normal attach-add-to-cart-retry" href\x3d"#"\x3e\n                                                '+y+'\n                                            \x3c/a\x3e\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                                \x3cspan class\x3d"attach_add_accessory_spinner_warranty a-spinner a-spinner-small attach-spinner aok-hidden"\x3e\x3c/span\x3e\n                                \x3cdiv class\x3d"a-section attach-warranty-button-row"\x3e\n                                    \x3cdiv class\x3d"a-button-stack"\x3e\n                                        \x3cspan id\x3d"attachSiAddCoverage" class\x3d"a-button a-button-primary attach-si-add-client"\x3e\n                                            \x3cspan class\x3d"a-button-inner"\x3e\n                                                \x3cbutton id\x3d"attachSiAddCoverage-announce" data-asin\x3d"'+
d.asin+'" data-offering-id\x3d"'+d.oid+'" class\x3d"a-button-text" type\x3d"button"\x3e\n                                                    '+E+'\n                                                \x3c/button\x3e\n                                            \x3c/span\x3e\n                                        \x3c/span\x3e\n                                        \x3cspan id\x3d"attachSiNoCoverage" class\x3d"a-button"\x3e\n                                            \x3cspan class\x3d"a-button-inner"\x3e\n                                                \x3cbutton id\x3d"attachSiNoCoverage-announce" class\x3d"a-button-text" type\x3d"button"\x3e\n                                                    '+
v+'\n                                                \x3c/button\x3e\n                                            \x3c/span\x3e\n                                        \x3c/span\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3ca class\x3d"a-link-normal" target\x3d"_blank" rel\x3d"noopener" href\x3d"/dp/'+
d.asin+"/ref\x3d"+e+'"\x3e\n                '+F+"\n            \x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n";b.$container.append(c)};k.onAttachAddBaseToCart=function(a){b.isPromise(a)?a.finally(k.clearWarrantyFromATCForm):a.always(k.clearWarrantyFromATCForm)};k.closeSheetAndSubmitForm=function(){h.servicesInterstitialDeprecated()&&!b.hasAccessories()||b.addBaseProduct(function(a){"add-items.incomplete-add.error/v1"===a.response.type?f.logCount(f.CSM_METRICS.WARRANTY_DSS_WARRANTY_PANE_ATC_CART_API_INCOMPLETE):
f.logCount(f.CSM_METRICS.WARRANTY_DSS_WARRANTY_PANE_ATC_CART_API_SUCCESS);f.logCount(f.CSM_METRICS.WARRANTY_DSS_EU_ENHANCED_ATC_SUCCESS)},function(){f.logCount(f.CSM_METRICS.WARRANTY_DSS_WARRANTY_PANE_ATC_CART_API_FAILURE);f.logCount(f.CSM_METRICS.WARRANTY_DSS_EU_ENHANCED_ATC_FAILURE)});k.sheet.next()};k.setSelectedWarrantyOptionDataOnATCForm=function(){var e=a.$(c.WARRANTY_CHECKBOX+":checked").get(0);if(e){var d=e.name;e=b.getInputValueByNameAndIndex("asin",d);var m=b.getInputValueByNameAndIndex("offerId",
d);d=b.getInputValueByNameAndIndex("warrantyPrice",d);f.logWarrantyAddToCart(f.getWarrantyPayload(e,d));k.appendWarrantyToATCForm(e,m);k.closeSheetAndSubmitForm()}else h.isLdDssMbsEnhancementEnabled()?a.$(c.WARRANTY_NOT_ADDED_T1).show():a.$(c.WARRANTY_NOT_ADDED).show()};k.setSelectedWarrantyOptionDataOnATCFormEU=function(e){var d=e.find(".a-button-input").attr("name"),l=a.$(c.WARRANTY_CHECKBOX+":checked").get(0);l&&d==l.name?(l=l.name,e=b.getInputValueByNameAndIndex("asin",l),d=b.getInputValueByNameAndIndex("offerId",
l),l=b.getInputValueByNameAndIndex("warrantyPrice",l),f.logWarrantyAddToCart(f.getWarrantyPayload(e,l)),k.appendWarrantyToATCForm(e,d),k.closeSheetAndSubmitForm()):h.isLdDssMbsEnhancementEnabled()?e.closest(c.WARRANTY_BOX).find(c.WARRANTY_NOT_ADDED_T1).show():a.$(c.WARRANTY_NOT_ADDED+"-"+d).show()};k.setup=function(l){k.sheet=l;a.$(c.PANE).hide();if(h.isDssMbsEnhancementEnabled())a.loadImageManually(a.$(c.PANE_WARRANTY_IMAGE).filter("[data-a-image-source]")),a.$("div[id^\x3dattach-no-warranty-alert-]").hide(),
a.$(c.WARRANTY_NOT_ADDED).hide(),a.$(c.WARRANTY_NOT_ADDED_T1).hide(),a.$(c.PANE_LD).find(c.WARRANTY_CHECKBOX).prop("checked",!1),a.$(c.PANE).find(c.WARRANTY_CHECKBOX).prop("checked",!1);else{var d=a.$(c.PANE_IMAGE).attr("data-image-url");a.$(c.PANE_IMAGE).attr("src",d)}h.isDssMbsEuComplianceActive()&&h.isDssMbsEnhancementEnabled()?a.$(c.PANE_ADD_BUTTON_T1).click(function(){k.setSelectedWarrantyOptionDataOnATCFormEU(a.$(this))}):a.$(c.PANE_ADD_BUTTON).click(function(){if(h.isDssMbsEnhancementEnabled())k.setSelectedWarrantyOptionDataOnATCForm();
else{var b=a.$(this).find("button");h.servicesInterstitialDeprecated()&&(b=a.$(this).find("[data-asin]"));var d=b.attr("data-asin");b=b.attr("data-offering-id");f.logWarrantyAddToCart(k.getWarrantyLoggingPayload());k.appendWarrantyToATCForm(d,b);k.closeSheetAndSubmitForm()}});h.isDssMbsEnhancementEnabled()&&(a.$(c.WARRANTY_CHECKBOX).change(function(d){var e=this;d="cn";var h=e.name,g=a.$(this).closest(c.WARRANTY_BOX).find("input[name\x3d'asin."+h+"']").val();e.checked&&(d="cy",a.$(c.WARRANTY_NOT_ADDED).hide(),
a.$(c.WARRANTY_NOT_ADDED_T1).hide(),a.$("div[id^\x3dattach-no-warranty-alert-]").hide(),a.$(b.selectedBaseLightningDeal?c.PANE_LD:c.PANE).find(c.WARRANTY_CHECKBOX).each(function(b){e!==this&&a.$(this).prop("checked",!1)}));f.logWarrantyWidgetInteraction({index:h,asin:g,action:d})}),a.$(c.WARRANTY_LEARN_MORE_HEADER).click(function(){f.logWarrantyInteractionData("LEARN_MORE_CLICK",this)}),a.$(c.WARRANTY_REVIEW_LINK).click(function(){f.logWarrantyInteractionData("REVIEW_CLICK",this)}),a.$(c.WARRANTY_DETAIL_PAGE_LINK).click(function(){f.logWarrantyInteractionData("DETAIL_PAGE_LINK_CLICK",
this)}),a.$(c.WARRANTY_POLICY_DOCUMENTS).click(function(){f.logWarrantyInteractionData("POLICY_DOCUMENTS_CLICK",this)}));a.$(c.PANE_NO_BUTTON).click(function(){h.servicesInterstitialDeprecated()&&!b.hasAccessories()||b.addBaseProduct();l.next()});h.isDssMbsEuComplianceActive()&&(k.setupEuEnhancedExperience(l),f.logCount(f.CSM_METRICS.WARRANTY_EU_ENHANCED_IMPRESSION_DSS));h.isDssMbsEuComplianceActive()&&h.isDssMbsEnhancementEnabled()?a.$(c.PANE_ADD_BUTTON_LD_T1).click(function(){var b=function(b){f.logCount(f.CSM_METRICS.ATTACH_BASE_LD_WARRANTY_SUCCESS);
q.when("EWC").execute("attach-everywhere-cart",function(a){a.refresh()});b=a.$(c.WARRANTY_CHECKBOX+":checked").get(0);a.$(b).closest(c.WARRANTY_BOX).find("img.attach-warranty-image").clone().removeAttr("class").removeAttr("id").attr("alt","warranty image").appendTo("#attach-ld-image-container");l.next()},d=function(a){f.logCount(f.CSM_METRICS.ATTACH_BASE_LD_WARRANTY_FAILURE);l.next()},k=a.$(this).find(".a-button-input").attr("name"),g=a.$(c.WARRANTY_CHECKBOX+":checked").get(0);if(g&&g.name==k){var m=
a.$(g).closest(c.WARRANTY_BOX);k=m.find("input[name\x3d'asin."+g.name+"']").val();g=m.find("input[name\x3d'offerId."+g.name+"']").val();g={warrantyAsin:k,offeringId:g,addWarranty:1,quantity:a.$(c.ATC_DEAL_QUANTITY).val()||1};g.baseItemAsin=a.$(c.BASE_ASIN).val();e.addLinkedWarranty(g,b,d)}else h.isLdDssMbsEnhancementEnabled()?a.$(this).closest(c.WARRANTY_BOX).find(c.WARRANTY_NOT_ADDED_T1).show():a.$(c.WARRANTY_NOT_ADDED+"-"+k).show()}):a.$(c.PANE_ADD_BUTTON_LD).click(function(){var b=function(b){f.logCount(f.CSM_METRICS.ATTACH_BASE_LD_WARRANTY_SUCCESS);
q.when("EWC").execute("attach-everywhere-cart",function(a){a.refresh()});h.isDssMbsEnhancementEnabled()?(b=a.$(c.WARRANTY_CHECKBOX+":checked").get(0),b=a.$(b).closest(c.WARRANTY_BOX).find("img.attach-warranty-image")):b=a.$("#attach-sheet-warranty-image");b.clone().removeAttr("class").removeAttr("id").attr("alt","warranty image").appendTo("#attach-ld-image-container");l.next()},d=function(a){f.logCount(f.CSM_METRICS.ATTACH_BASE_LD_WARRANTY_FAILURE);l.next()};if(h.isDssMbsEnhancementEnabled()){var k=
a.$(c.WARRANTY_CHECKBOX+":checked").get(0);if(k){var g=a.$(k).closest(c.WARRANTY_BOX),m=g.find("input[name\x3d'asin."+k.name+"']").val();k=g.find("input[name\x3d'offerId."+k.name+"']").val();m={warrantyAsin:m,offeringId:k,addWarranty:1,quantity:a.$(c.ATC_DEAL_QUANTITY).val()||1};m.baseItemAsin=a.$(c.BASE_ASIN).val();e.addLinkedWarranty(m,b,d)}else h.isLdDssMbsEnhancementEnabled()?a.$(c.WARRANTY_NOT_ADDED_T1).show():a.$(c.WARRANTY_NOT_ADDED).show()}else m=a.$(c.PANE_ADD_BUTTON_LD).find("input"),m=
{warrantyAsin:m.attr("data-asin"),offeringId:m.attr("data-offering-id"),addWarranty:1,quantity:a.$(c.ATC_DEAL_QUANTITY).val()||1},m.baseItemAsin=a.$(c.BASE_ASIN).val(),e.addLinkedWarranty(m,b,d)});a.$(c.PANE_NO_BUTTON_LD).click(function(){l.next()});a.off("attach:add-base-to-cart",k.onAttachAddBaseToCart);a.on("attach:add-base-to-cart",k.onAttachAddBaseToCart)};k.show=function(){b.selectedBaseLightningDeal?b.selectedBaseLightningDeal&&a.$(c.PANE_LD).show():a.$(c.PANE).removeClass("aok-hidden");var e=
400;h.isDssMbsEuComplianceActive()&&(a.$(c.EU_ENHANCED_EXPERIENCE).removeClass("aok-hidden"),a.$(c.STANDARD_EXPERIENCE).addClass("aok-hidden"),e=50);a.$(c.PANE).fadeIn(e,function(){h.isDssMbsEuComplianceActive()&&(a.$(c.PANE).css("display","flex"),setTimeout(function(){var b=a.$("#attach-warranty-bullets-container-eu-enhanced");b.length&&b.scrollTop(0)},0));k.setFocus()});h.isDssMbsEnhancementEnabled()?b.selectedBaseLightningDeal?a.$(c.PANE_LD).find(c.WARRANTY_CHECKBOX).each(function(b){var d=a.$(this).closest(c.WARRANTY_BOX),
e=d.find("input[name\x3d'asin."+b+"']").val();b=d.find("input[name\x3d'warrantyPrice."+b+"']").val();f.logWarrantyImpression(f.getWarrantyPayload(e,b))}):a.$(c.PANE).find(c.WARRANTY_CHECKBOX).each(function(){var a=b.getInputValueByNameAndIndex("asin",this.name),c=b.getInputValueByNameAndIndex("warrantyPrice",this.name);f.logWarrantyImpression(f.getWarrantyPayload(a,c))}):f.logWarrantyImpression(k.getWarrantyLoggingPayload());a.$(c.PANE).find("h1").first().attr("id","attach-warranty-header");k.sheet&&
k.sheet.$container&&k.sheet.$container.attr("aria-labelledby","attach-warranty-header")};k.hide=function(){a.$(c.PANE+", "+c.PANE_LD).fadeOut()};k.setFocus=function(){p.focusDescendant(a.$(c.PANE).get(0),"first");p.focusDescendant(a.$(c.PANE_LD).get(0),"first")};k.setupEuEnhancedExperience=function(e){a.$(c.EU_ENHANCED_WARRANTY_NOT_ADDED).hide();a.$(c.PANE_NO_BUTTON_EU_ENHANCED).click(function(){e.next()});a.$(c.PANE_ADD_BUTTON_EU_ENHANCED).click(function(){var d=a.$(c.EU_ENHANCED_CHECKBOXES+":checked").get(0);
if(d){var e=d.name;d=b.getInputValueByNameAndIndex("asin",e);var h=b.getInputValueByNameAndIndex("offerId",e);e=b.getInputValueByNameAndIndex("warrantyPrice",e);f.logCount(f.CSM_METRICS.WARRANTY_DSS_EU_ENHANCED_ATC_CLICK);f.logWarrantyAddToCart(f.getWarrantyPayload(d,e));k.appendWarrantyToATCForm(d,h);k.closeSheetAndSubmitForm()}else a.$(c.EU_ENHANCED_WARRANTY_NOT_ADDED).show()});a.$(c.EU_ENHANCED_CHECKBOXES).change(function(b){var d=this;if(d.checked){a.$(c.EU_ENHANCED_WARRANTY_NOT_ADDED).hide();
a.$(c.EU_ENHANCED_CHECKBOXES).each(function(){d!==this&&a.$(this).prop("checked",!1)});b=d.name;var e=a.$(c.EU_ENHANCED_PLAN_OPTION_PREFIX+b),h=a.$(c.EU_ENHANCED_TITLE_TEMPLATE_PREFIX+b);h.length&&a.$(c.EU_ENHANCED_TITLE).html(h.html());h=a.$(c.EU_ENHANCED_BULLETS_LIST);h.empty();var g=a.$(c.EU_ENHANCED_BULLETS_TEMPLATE_PREFIX+b);g.length&&g.find("li").clone().appendTo(h);h=e.data("short-title");b=e.find('input[name\x3d"asin.'+b+'"]').val();e=a.$(c.BASE_ASIN).val();b="/dp/"+b+"/ref\x3d"+("dp_atch_dss_w_lm_"+
e+"_"+b);a.$(c.EU_ENHANCED_MORE_DETAILS_LINK).attr("href",b);a.$(c.EU_ENHANCED_MORE_DETAILS_TEXT).text(h)}})};return k});"use strict";q.when("A","attach-common","attach-weblabs","attach-logging","attach-variant-registration","attach.utilities.focus-management","attach.amazonapi.client","attach.amazonapi.cart.add-items","attach.amazonapi.cart.summary","attach.amazonapi.deals.claim-and-add-to-cart","attach.amazonapi.products.productV2","attach.amazonapi.products.media-builder","attach.utilities.strings").register("attach-desktop-accessories-pane",
function(a,b,f,e,h,m,p,k,c,l,d,D,t){function z(b){b=a.$('\x3cdiv class\x3d"a-alert-content"\x3e\x3c/div\x3e').append(b);var d=a.$('\x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e');b=a.$('\x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\x3c/div\x3e').append(d).append(b);b=a.$('\x3cdiv class\x3d"a-box a-alert a-alert-error" role\x3d"alert"\x3e\x3c/div\x3e').append(b);return a.$('\x3cdiv class\x3d"attach-sidesheet-card attach-add-to-cart-message-card aok-hidden"\x3e\x3c/div\x3e').append(b)}var g=
{name:"accessories"},w=!0,C,B=!1;g.isEmptyAccessoryList=!1;var A=g.Endpoints={RENDER:"/gp/product/ajax?experienceId\x3dattach",RENDER_FLOW:"/gp/product/ajax/attach"},n=g.Selectors={BASE_ASIN:"#attach-baseAsin",QUANTITY:"#quantity",MARKETPLACE_ID:"#attach-marketplaceId",LANGUAGE_OF_PREFRENCE:"#attach-languageOfPreference",PANE:"#attach-accessory-pane",PANE_CLOSE_BUTTON:"#attach-close_sideSheet-link",PANE_CART_BASE_ALERT_IMAGE_AREA:"#attach-added-to-cart-alert-and-image-area",PANE_CART_BASE_ALERT:"#attachDisplayAddBaseAlert",
PANE_CART_BASE_SUCCESS_ALERT:"#attachAddBaseItemSuccessAlert",PANE_CART_BASE_ERROR_ALERT:"#attachAddBaseItemErrorAlert",PANE_CART_BASE_INITIAL_IMAGE:"#attach-sheet-view-base-product-image",PANE_CART_BASE_HUC_IMAGE:".huc-image-wrapper",PANE_CART_BLOCK:".attach-primary-atc-confirm-box",PANE_CART_BLOCK_INNER:"#attach-added-to-cart-message",PANE_CART_BLOCK_SUBTOTAL_LABEL:"#attach-accessory-cart-total-string",PANE_CART_BLOCK_SUBTOTAL_PRICE:"#attach-accessory-cart-subtotal",PANE_CART_BLOCK_CORE_FREE_SHIPPING_MESSAGE:"#attach-core-free-shipping-message",
PANE_CART_BLOCK_DESCRIPTION_FAILURE_MESSAGE:"#attach-cart-description-failure",PANE_CART_BLOCK_PROCEED_TO_CHECKOUT:"#attach-accessory-proceed-to-checkout-text",PANE_CART_SPINNER:"#attach-add-to-cart-message-spinner",PANE_VIEW_CART_BUTTON:"#attach-sidesheet-view-cart-button",PANE_CHECKOUT_BUTTON:"#attach-sidesheet-checkout-button",PANE_CART_TEMPLATE_SUBTOTAL_SINGLE:"#attach-string-cart-subtotal-single",PANE_CART_TEMPLATE_SUBTOTAL_MULTIPLE:"#attach-string-cart-subtotal-multiple",PANE_CART_TEMPLATE_PROCEED_TO_CHECKOUT_SINGLE:"#attach-string-cart-ptc-button-single",
PANE_CART_TEMPLATE_PROCEED_TO_CHECKOUT_MULTIPLE:"#attach-string-cart-ptc-button-multiple",PANE_CART_GENERIC_ERROR_MESSAGE:"#attach-string-cart-generic-error",PANE_CART_TRY_AGAIN_MESSAGE:"#attach-string-cart-try-again",PANE_HUC_MESSAGE:".attach-add-to-cart-message-card",PANE_ACCESORIES_CARD:"#attach-accessories",PANE_CATEGORIZED_ACCESSORIES_TILES_CARD:"#attach-categorized-accessories-tiles",PANE_ACCESSORY_RETRY_BUTTON:".attach-add-to-cart-retry",PANE_ACCESSORY_ADD_DECLARATIVES:'.a-declarative[data-action\x3d"attach-accessory-add"]',
PANE_ACCESSORY_IMAGE:".attach-accessory-image",PANE_ACCESSORY_ASIN:".attach-accessory-asin",PANE_ACCESSORY_ADD_BUTTON_PREFIX:"#attach_add_accessory_button_",PANE_ACCESSORY_ADD_SPINNER_PREFIX:"#attach_add_accessory_spinner_",PANE_ACCESSORY_ADD_SUCCESS_PREFIX:"#attach_add_accessory_alert_",PANE_ACCESSORY_ADD_ERROR_PREFIX:"#attach_add_accessory_error_",PANE_ACCESSORY_FIRST_ASIN:"#attach_accessory_dp_1",PANE_CATEGORIZED_ACCESSORIES_CARD:"#attach-categorized-accessories",PANE_ACCESSORY_TITLE:".attach-accessory-title",
PANE_ACCESSORY_TILE_ITEM:".attach-accessory-tile",PANE_ACCESSORY_TILE_ITEM_PREFIX:"#attach-accessory-tile-",PANE_ACCESSORY_CAROUSEL:"#attach-accessories .a-carousel-container",PANE_ACCESSORY_CARD:"#attach-accessories.card-expandable",PANE_ACCESSORY_CARD_SEE_MORE:".card-toggle-see-more",PANE_ACCESSORY_CARD_SEE_LESS:".card-toggle-see-less",PANE_ACCESSORY_CARD_PEEK_CONTENT:".card-peek-content",PANE_ACCESSORY_CARD_EXPAND_CONTENT:".card-expand-content",PANE__DATA_CATEGORY_VIEW:"categoryView",PANE__DATA_ASIN_INDEX:"asinindex",
PANE_ACCESSORY_LIGHTNING_DEAL:".attach-accessory-lightning-deal",PANE_ACCESSORY_LIGHTNING_DEAL_PREFIX:"#attach-accessory-lightning-deal-",PANE_ACCESSORY_LIGHTNING_DEAL_JOIN_WAITLIST_PREFIX:"#attach-accessory-deal-on-waitlist-",PANE_ACCESSORY_CSRF_TOKEN:"#attach-accessory-deal-csrf-token",DEAL_QUANTITY:"#dealx_quantity_dropdown",DEBUG_IS_DEBUG:"#attach-debug-isDebug",DEBUG_QUERY_STRING:"#attach-debug-queryString"},u=g.AccessoryAddStatus={INITIAL:0,ADDING:1,SUCCESS:2,ERROR:3};g.load=function(d){q.now("attach-external-atc-interceptor").execute(function(a){C=
a});a.trigger("LOADED_ACCESSORIES_PANE_SUCCESSFULLY");var c=a.$.Deferred();q.now("dp-util-cookie").execute(function(d){d&&d("session-id")!==a.$("#attach-sessionId").val()&&b.rejectPromise(c,b.FailureModes.TRANSITION_TO_HUC,{count:"ATTACH_DSS_INVALID_SESSION_ID",information:"Unexpected session ID received; expected "+a.$("#attach-sessionId").val()+" but cookie value was "+d("session-id")})});var e=f.isFlowMigrationEnabled()?A.RENDER_FLOW:A.RENDER;e=a.$.get(e,{asin:a.$(n.BASE_ASIN).val()});a.$.when(e).done(function(e){var y=
a.$(e.trim());y.is(n.PANE)?(g.isEmptyAccessoryList=0===y.find(n.PANE_ACCESSORY_ASIN).length,g.isEmptyAccessoryList?b.rejectPromise(c,b.FailureModes.TRANSITION_TO_HUC,{count:"ATTACH_DSS_RENDER_FAILURE_INVALID_HTML",information:"Failed to render DSS: Accessory list is empty"}):(d.$container.append(a.$(e)),c.resolve())):b.rejectPromise(c,b.FailureModes.TRANSITION_TO_HUC,{count:"ATTACH_DSS_RENDER_FAILURE",information:"Failed to render DSS: Pane is missing"})}).fail(function(){b.rejectPromise(c,b.FailureModes.TRANSITION_TO_HUC,
{count:"ATTACH_DSS_RENDER_FAILURE",information:"Failed to render DSS: network request failed"})});return c.promise()};g.onAttachAddBaseToCart=function(a){w=!1;b.isPromise(a)||(a=b.getPromiseFromDeferred(a));a.then(g.handleAddBaseAndGetCartDescription).catch(function(a){q.logError(a,"Base product add to cart failed: ","ERROR","attach-desktop-accessories-pane");g.sheet.fail(b.FailureModes.ERROR_500)})};g.runOnceSetup=function(){B||(B=!0,a.declarative("attach-accessory-add","click",function(b){var d=
b.$currentTarget,c=b.data,y=c.a,h=c.oid,f=c.isLightningDeal;c=c.isPEDOTD;e.logCount(e.CSM_METRICS.ATTACH_UPSELL_ATC_CLICK);e.beginLatencyCapture(e.CSM_METRICS.ATTACH_UPSELL_ATC_LATENCY);b=!0===a.$(n.PANE_CATEGORIZED_ACCESSORIES_CARD).data(n.PANE__DATA_CATEGORY_VIEW)?a.$(b.$target).data(n.PANE__DATA_ASIN_INDEX):a.$(n.PANE_ACCESSORY_ADD_DECLARATIVES).index(d);f||c?g.addAccessoryToCartWithDeal(b,y,f):g.addAccessoryToCart(y,h,b)}))};g.setup=function(d){g.runOnceSetup();a.$(n.PANE).hide();g.sheet=d;a.off("attach:add-base-to-cart",
g.onAttachAddBaseToCart);a.on("attach:add-base-to-cart",g.onAttachAddBaseToCart);b.setupDesktopEgressButtons();a.$(n.PANE_ACCESSORY_RETRY_BUTTON).click(function(){var b=a.$(this).attr("data-asin"),d=a.$(this).attr("data-oid"),c=a.$(this).attr("data-idx");g.addAccessoryToCart(b,d,c)});a.$(n.PANE).find(n.PANE_CLOSE_BUTTON).appendTo(n.PANE_CART_BLOCK);a.$(n.PANE_CLOSE_BUTTON).click(d.next);a.$(n.PANE_ACCESSORY_IMAGE).each(function(){a.$(this).attr("src",a.$(this).attr("data-image-url"))});a.$(n.PANE_ACCESSORY_LIGHTNING_DEAL).each(function(){var b=
a.$(this).data().idx;g.updateLightningDealTimer(b);g.initializeLightningDealStatusRefresher(b)});0===a.$(n.PANE_CART_GENERIC_ERROR_MESSAGE).length&&a.$(n.PANE_CART_BLOCK).append(a.$("\x3cspan\x3e\x3c/span\x3e").attr("id","attach-string-cart-generic-error").addClass("aok-hidden").text(a.$(".attach_add_accessory_alert.a-alert-inline-error .a-alert-content span").first().text()));0===a.$(n.PANE_CART_TRY_AGAIN_MESSAGE).length&&a.$(n.PANE_CART_BLOCK).append(a.$("\x3cspan\x3e\x3c/span\x3e").attr("id","attach-string-cart-try-again").addClass("aok-hidden").text(a.$(".attach_add_accessory_alert.a-alert-inline-error .attach-add-to-cart-retry").first().text()))};
g.show=function(){!b.selectedBaseLightningDeal&&w&&b.addBaseProduct(function(a){a.request.isWarrantyAddedWithBase()&&("add-items.incomplete-add.error/v1"===a.response.type?e.logCount(e.CSM_METRICS.WARRANTY_DESKTOP_ATC_BY_ACCESSORIES_PANE_INCOMPLETE):e.logCount(e.CSM_METRICS.WARRANTY_DESKTOP_ATC_BY_ACCESSORIES_PANE_SUCCESS))},function(a){a.request.isWarrantyAddedWithBase()&&e.logCount(e.CSM_METRICS.WARRANTY_DESKTOP_ATC_BY_ACCESSORIES_PANE_FAILURE)});a.$(n.PANE).css({opacity:0}).show().animate({opacity:1},
500,"linear");if(b.selectedBaseLightningDeal)a.$(n.PANE_CART_BLOCK).addClass("aok-hidden"),a.$("#attach-accessory-pane").css("height",a.$(r).height()-161);else{var d=a.$(n.PANE_CART_BLOCK_INNER);d.find("div").addClass("aok-hidden");d.append(a.$(n.PANE_CART_SPINNER).removeClass("aok-hidden"))}g.initializeAccessoriesDisplay();q.now("attach-categorized-cards").execute(function(a){a!==x&&a.initializeCategorizedCards()})};g.hide=function(){a.$(n.PANE).hide();a.$(n.PANE_CART_SPINNER).addClass("aok-hidden");
a.$(n.PANE_HUC_MESSAGE).remove();a.$(n.PANE_ACCESSORY_ASIN).each(function(b,d){(d=a.$(d).data(n.PANE__DATA_ASIN_INDEX))&&(b=d);g.updateAccessoryStatus(b,u.INITIAL)});a.trigger("RESET_SECONDARY_SIDE_SHEET_MODULE");C&&C.unloadAttachModule();a.trigger("aloha:detailPage:reappear");w=!0};g.updateNavCartDisplayQuantity=function(b){var d=Number(b);b=isNaN(d)?"":100>d?b:"99+";a.$("#nav-cart-count").toggleClass("nav-cart-0",0===d).toggleClass("nav-cart-1",1<=d&&10>d).toggleClass("nav-cart-10",10<=d&&20>d).toggleClass("nav-cart-20",
20<=d&&100>d).toggleClass("nav-cart-100",100<=d).text(b)};g.createCartSubtotalLabelString=function(b){var d=a.$(1==b?n.PANE_CART_TEMPLATE_SUBTOTAL_SINGLE:n.PANE_CART_TEMPLATE_SUBTOTAL_MULTIPLE).val();return t.substituteParameters(d,{quantity:b})};g.createProceedToCheckoutString=function(b){var d=a.$(1==b?n.PANE_CART_TEMPLATE_PROCEED_TO_CHECKOUT_SINGLE:n.PANE_CART_TEMPLATE_PROCEED_TO_CHECKOUT_MULTIPLE).val();return t.substituteParameters(d,{quantity:b})};g.updateCartSummary=function(){return c.get([c.CART_TYPE_RETAIL]).then(g.handleCartDescription).catch(g.handleCartDescriptionError)};
g.handleAddBaseAndGetCartDescription=function(b){e.logCount(e.CSM_METRICS.ATTACH_BASE_ATC_SUCCESS);b.request?g.renderBaseProductStatus(b):(b=a.$(b),b.find("#sw-atc-confirmation").length?(g.renderFallbackSmartWagonFeedback(b),g.renderFallbackSmartWagonBaseAddStatusIcon(b)):(g.renderHUCFeedback(b),g.renderBaseAddStatusIcon(b)));if(C)try{var d=a.$(n.PANE_ACCESSORY_ASIN).map(function(){return this.value}).get();C.loadAttachModule(d)}catch(v){q.logError(v,"Could not update ABB/DSS external interceptor: ",
"ERROR","attach-desktop-accessories-pane")}g.sheet.$container.attr("aria-labelledby","attachDisplayAddBaseAlert");m.focusDescendant(a.$(n.PANE).get(0),"first");return g.updateCartSummary()};g.handleCartDescription=function(d){var h=d.entity.summary[0]||c.EMPTY_CART_RETAIL,y=h.itemCount;h=p.formatMoney(h.subtotal);var f=g.createCartSubtotalLabelString(y),k=g.createProceedToCheckoutString(y);g.updateNavCartDisplayQuantity(y);a.$(n.PANE_CART_BLOCK_SUBTOTAL_LABEL).html(f);a.$(n.PANE_CART_BLOCK_SUBTOTAL_PRICE).html(h);
a.$(n.PANE_CART_BLOCK_PROCEED_TO_CHECKOUT).html(k);a.$(n.PANE_CHECKOUT_BUTTON).removeClass("aok-hidden");a.$("#attach-customerId").val()&&q.when("attach-preinitiate-checkout").execute(function(a){b.cartInitiateId=a.getCartInitiateId();a.preinitiateCheckout(b.cartInitiateId)});b.selectedBaseLightningDeal||(a.$(n.PANE_CART_BLOCK_INNER).find("div").removeClass("aok-hidden"),a.$(n.PANE_CART_SPINNER).addClass("aok-hidden"),a.$(n.PANE_CART_BLOCK_DESCRIPTION_FAILURE_MESSAGE).addClass("aok-hidden"));a.delay(g.revealIMBMessages,
200);q.when("EWC").execute("attach-everywhere-cart",function(a){a.refresh()});e.logCount(e.CSM_METRICS.ATTACH_GET_CART_DESCRIPTION_SUCCESS);return d};g.handleCartDescriptionError=function(d){q.logError(d,"Could not process the cart description: ","ERROR","attach-desktop-accessories-pane");e.logCount("ATTACH_DSS_HANDLE_CART_DESCRIPTION_FAILURE");b.selectedBaseLightningDeal||(a.$(n.PANE_CART_BLOCK_INNER).find("div").removeClass("aok-hidden"),a.$(n.PANE_CART_SPINNER).addClass("aok-hidden"),a.$(n.PANE_CART_BLOCK_SUBTOTAL_LABEL).empty(),
a.$(n.PANE_CART_BLOCK_SUBTOTAL_PRICE).empty(),a.$(n.PANE_CHECKOUT_BUTTON).addClass("aok-hidden"),a.$(n.PANE_CART_BLOCK_DESCRIPTION_FAILURE_MESSAGE).removeClass("aok-hidden"))};g.updateAccessoryStatus=function(b,d){a.$(n.PANE_ACCESSORY_ADD_BUTTON_PREFIX+b).toggleClass("aok-hidden",d!==u.INITIAL);a.$(n.PANE_ACCESSORY_ADD_SPINNER_PREFIX+b).toggleClass("aok-hidden",d!==u.ADDING);a.$(n.PANE_ACCESSORY_ADD_SUCCESS_PREFIX+b).toggleClass("aok-hidden",d!==u.SUCCESS);a.$(n.PANE_ACCESSORY_ADD_ERROR_PREFIX+b).toggleClass("aok-hidden",
d!==u.ERROR);a.$("#tile-add-accessory-badge-"+b).toggleClass("aok-hidden",d!==u.SUCCESS);a.$("#attach-accessory-tile-"+b).toggleClass("in-cart",d===u.SUCCESS);b=a.$("#attach-accessory-asin-"+(b+1)).parent();m.focusDescendant(b.get(0),"first")};g.addAccessoryToCart=function(d,c,h){g.updateAccessoryStatus(h,u.ADDING);var y=a.$(n.BASE_ASIN).val(),f=(b.selectedBaseLightningDeal?parseInt(a.$(n.DEAL_QUANTITY).val()):parseInt(a.$(n.QUANTITY).val()))||1,l=x;b.isDiscriminatedOffersEnabled()&&(l={itemAssociation:{programType:"Attach",
renderType:"renderAll",associatedItemId:y,deleteConstraint:{mutuallyInclusive:!1}}});k.addItems([{asin:d,offerListingId:c,quantity:f,additionalParameters:l}],"dp_atch_dss_atc_ce").then(function(a){if(a.type===k.RESPONSE_TYPE_SUCCESS)return g.updateCartSummary();q.logError(Error(a.entity.details.message),"Could not add accessory via AmazonAPI ("+d+"):","ERROR","attach-desktop-accessories-pane");throw a.entity.details.message;}).then(function(b){g.updateAccessoryStatus(h,u.SUCCESS);e.logAccessoryAddToCart(g.getAccessoryLoggingData(h));
e.logCount(e.CSM_METRICS.ATTACH_UPSELL_ATC_SUCCESS);a.trigger("UPSELL_ASIN_ADDED_TO_CART",h);q.when("EWC").execute("attach-everywhere-cart",function(a){a.refresh()})}).catch(function(){e.logCount(e.CSM_METRICS.ATTACH_UPSELL_ATC_FAILURE);g.updateAccessoryStatus(h,u.ERROR);a.trigger("UPSELL_ASIN_NOT_ADDED_TO_CART",h)})};g.addAccessoryToCartWithDeal=function(d,c,h){g.updateAccessoryStatus(d,u.ADDING);var f=a.$("#attach-accessory-claim-deal-url-"+d).val();f=g.getDealId(f);l.claimAndAddDeal(f,c,"dp_atch_dss_atc_ce").then(function(c){var f=
c.entity;c=f.customerState;if(!0!==f.claimed&&"INWAITLIST"!==c)return b.reject(null,{count:"ATTACH_DSS_ADD_ACCESSORY_NOT_IN_CART"});"INWAITLIST"===c?a.$(n.PANE_ACCESSORY_ADD_SPINNER_PREFIX+d).addClass("aok-hidden"):g.updateAccessoryStatus(d,u.SUCCESS);e.logAccessoryAddToCart(g.getAccessoryLoggingData(d));e.logCount(e.CSM_METRICS.ATTACH_UPSELL_ATC_SUCCESS);h&&(f=f.msUntilExpiration,g.handleLightningDealAddToCart(d,f?f:900,c));a.trigger("UPSELL_ASIN_ADDED_TO_CART",d);q.when("EWC").execute("attach-everywhere-cart",
function(a){a.refresh()});g.updateCartSummary()}).catch(function(){e.logCount(e.CSM_METRICS.ATTACH_UPSELL_ATC_FAILURE);g.updateAccessoryStatus(d,u.ERROR);a.trigger("UPSELL_ASIN_NOT_ADDED_TO_CART",d)})};g.getDealId=function(a){return(a=a.match(/\/api\/marketplaces\/\w+\/deals\/(.*?)\/claim-and-add-to-cart/))?a[1]:x};g.revealIMBMessages=function(){var b=a.$(n.PANE_HUC_MESSAGE);if(b.hasClass("aok-hidden")){b.css({position:"absolute",top:0}).removeClass("aok-hidden");var d=b.children().height();0<d&&
b.css({marginTop:-1*(d+4)+"px",position:"initial"}).animate({marginTop:"14px"},800)}};g.renderHUCFeedback=function(d){var c=d.find("#hlb-ship-message");d=a.$().add(d.find("#huc-v2-message-group")).add(d.find("#hlb-imb"));f.isCoreFreeShippingMessageEnabled()&&b.elementExists(c)&&a.$(n.PANE_CART_BLOCK_CORE_FREE_SHIPPING_MESSAGE).html(c.html());0<d.length&&(c=a.$("\x3cdiv class\x3d'attach-sidesheet-card attach-add-to-cart-message-card aok-hidden'\x3e\x3c/div\x3e"),c.append(d),c.insertAfter(n.PANE_CART_BLOCK),
c.find(".a-declarative a").unwrap(),c.find(".a-declarative span").removeClass("a-color-link huc-cursor-pointer").unwrap(),c.find(".sc-action-quantity").hide(),(c=d.find(".a-alert-heading").text())&&e.logDSSWarningMessage(c))};g.renderBaseAddStatusIcon=function(d){var c;b.elementExists(d.find("#huc-v2-order-row-confirm-text"))?c=d.find("#huc-v2-order-row-confirm-text").hasClass("a-color-error"):b.elementExists(d.find("#hl-confirm-text"))&&(c=d.find("#hl-confirm-text").hasClass("a-alert-warning"));
c=(c?a.$(n.PANE_CART_BASE_ERROR_ALERT):a.$(n.PANE_CART_BASE_SUCCESS_ALERT)).clone().prop("id","attachDisplayAddBaseAlert");a.$(n.PANE_CART_BASE_ALERT).remove();a.$(n.PANE_CART_BASE_ALERT_IMAGE_AREA).prepend(c);c=d.find(".huc-v2-order-row-image").clone();b.elementExists(c)||(c=d.find(".hlb-product-image").clone());if(1<c.length){c=c.first();var e=a.$('input[name^\x3d"asin"].attach-warranty-input');0===e.length&&(e=a.$('.abbListItem.mbb__r input[name^\x3d"asin"]'));if(b.elementExists(e))for(var h=0;h<
e.length;h++){var g=e[h].value,f=d.find("#huc-v2-order-row-item-"+g);if(f.length){d=b.elementExists(f)?f.find(".huc-v2-order-row-image"):d.find(".hlb-item-link.hlb-asin-"+g+" \x3e img");c=c.add(d.clone());break}}}a.$(n.PANE_CART_BASE_HUC_IMAGE).remove();a.$(n.PANE_CART_BASE_INITIAL_IMAGE).hide().parent().append(c);c.wrap('\x3cdiv class\x3d"huc-image-wrapper"\x3e\x3c/div\x3e')};g.renderFallbackSmartWagonFeedback=function(b){b=b.find("#cart-important-message-box");if(0<b.length){var d=a.$("\x3cdiv class\x3d'attach-sidesheet-card attach-add-to-cart-message-card aok-hidden'\x3e\x3c/div\x3e");
d.append(b);d.find("#sc-important-message-alert").removeClass("a-spacing-medium-plus").addClass("a-spacing-mini");d.find(".sc-action-quantity").hide();d.insertAfter(n.PANE_CART_BLOCK)}};g.renderFallbackSmartWagonBaseAddStatusIcon=function(b){var d=b.find(".sw-atc-message").first().parent().clone();d.prop("id","attachDisplayAddBaseAlert");d.addClass("sw-fallback");d.addClass("aok-hidden");a.$(n.PANE_CART_BASE_ALERT_IMAGE_AREA).empty();a.$(n.PANE_CART_BASE_ALERT_IMAGE_AREA).prepend(d);b.find("#add-to-cart-confirmation-image").find(".sc-product-image").clone().appendTo(n.PANE_CART_BASE_ALERT_IMAGE_AREA).wrap('\x3cdiv class\x3d"huc-image-wrapper aok-hidden sw-fallback"\x3e\x3c/div\x3e');
b=b.find(".sw-atc-extra-item").clone().appendTo(n.PANE_CART_BASE_ALERT_IMAGE_AREA);b.addClass("aok-hidden sw-fallback");b.find(".sw-atc-item-no").prepend('\x3cspan class\x3d"a-size-small"\x3e+\x3c/span\x3e')};g.renderBaseProductStatus=function(c){var h=c.response&&c.response.type===k.RESPONSE_TYPE_SUCCESS,f=c.response&&c.response.type===k.RESPONSE_TYPE_INCOMPLETE_ADD;f=!h&&!f;h=(h?a.$(n.PANE_CART_BASE_SUCCESS_ALERT):a.$(n.PANE_CART_BASE_ERROR_ALERT)).clone().prop("id","attachDisplayAddBaseAlert");
a.$(n.PANE_CART_BASE_ALERT).remove();a.$(n.PANE_CART_BASE_ALERT_IMAGE_AREA).prepend(h);if((h=c.response&&c.response.entity&&c.response.entity.details&&c.response.entity.details.message)||f){var l=a.$("\x3cdiv\x3e\x3c/div\x3e");h?l.append(c.response.entity.details.message):l.append(a.$(n.PANE_CART_GENERIC_ERROR_MESSAGE).clone().removeClass("aok-hidden"));f&&l.append(a.$('\x3ca href\x3d"#"\x3e\x3c/a\x3e').click(function(a){a.preventDefault();e.logCount("ATTACH_DSS_BASE_PRODUCT_TRY_AGAIN_CLICKED");g.sheet.fail(b.FailureModes.RESUBMIT_BUY_BOX)}).append(a.$(n.PANE_CART_TRY_AGAIN_MESSAGE).clone().removeClass("aok-hidden")));
z(l).insertAfter(n.PANE_CART_BLOCK);a.delay(g.revealIMBMessages,200)}h=c.response&&c.response.entity&&c.response.entity.internalInfo&&c.response.entity.internalInfo.message;f&&e.logCount("ATTACH_DSS_BASE_PRODUCT_UNRECOVERABLE_FAILURE");h&&q.logError(Error(c.response.entity.internalInfo.message),"Error when trying to add the base product to cart: ","FATAL","attach-desktop-accessories-pane:renderBaseProductStatus");a.$(n.PANE_CART_BASE_HUC_IMAGE).remove();a.$(n.PANE_CART_BASE_INITIAL_IMAGE).hide();
var m=a.$(n.PANE_CART_BASE_INITIAL_IMAGE).parent();c=c.request.getAsins();d.getProductsBatch(c,[d.RESOURCE_INCLUSIONS.PRODUCT_IMAGES]).then(function(b){b.entities&&b.entities.forEach(function(b){if(b.type===d.RESPONSE_TYPE_SUCCESS){var c=b.entity;if(c&&c.productImages&&c.productImages.entity&&c.productImages.entity.images&&c.productImages.entity.images.length){var e=c.productImages.entity;b=e.altText;e=D.init(e.images[0].lowRes).scaleToSquare(60).build().url;c="/dp/"+c.asin;b=a.$("\x3cimg\x3e\x3c/img\x3e").attr("src",
e).attr("alt",b);b=a.$("\x3ca\x3e\x3c/a\x3e").attr("href",c).append(b);b=a.$("\x3cdiv\x3e\x3c/div\x3e").addClass("huc-image-wrapper").append(b)}else b=a.$();m.append(b)}})}).catch(function(a){q.logError(a,"Could not process the cart description: ","ERROR","attach-desktop-accessories-pane");e.logCount("ATTACH_DSS_HANDLE_CART_DESCRIPTION_FAILURE")})};g.getAccessoryLoggingData=function(b){return{asin:a.$("#attach-accessory-asin-"+(parseInt(b)+1)).val(),index:b,priceFormatted:a.$("#attach-accessory-price-"+
b+" \x3e .a-offscreen").text(),priceDecimal:parseFloat(a.$("#attach-accessory-base-price-"+b).val())||null,currencySymbol:a.$("#attach-accessory-base-currency-symbol-"+b).val()||null,couponDecimal:null,couponType:null,dealType:a.$("#attach-accessory-deal-type-"+b).val()||null,dealPercentSavings:parseInt(a.$("#attach-accessory-deal-percent-savings-"+b).val())||null,dealDollarAmount:a.$("#attach-accessory-deal-dollar-savings-"+b).val()||null,categoryIndex:a.$("#attach-accessory-category-index-"+b).val()||
null,categoryTitle:a.$("#attach-accessory-category-title-"+b).val()||null,asinIndexWithinCategory:a.$("#attach-accessory-asin-category-index-"+b).val()||null}};g.createAccessoryImpressions=function(){var b=[];a.$(n.PANE_ACCESSORY_ASIN).parent().each(function(d,c){c=a.$(c);if(c.is(":hidden")||"hidden"===c.css("visibility")||c.prop("data-accessory-seen"))return null;c.prop("data-accessory-seen",!0);b.push(g.getAccessoryLoggingData(d))});return b};g.resetAccessoryImpressions=function(){a.$(n.PANE_ACCESSORY_ASIN).parent().removeProp("data-accessory-seen")};
g.initializeAccessoriesDisplay=function(){g.initializeAccessoriesCards();g.initializeAccessoriesTiles();g.initializeCategorizedAccessoriesCards();a.animationFrameDelay(function(){g.resetAccessoryImpressions();e.logAccessoryImpressions(g.createAccessoryImpressions())})};g.initializeAccessoriesCards=function(){a.$(n.PANE_ACCESSORY_CARD).each(function(){var b=a.$(this),d=b.find(n.PANE_ACCESSORY_CARD_SEE_MORE),c=b.find(n.PANE_ACCESSORY_CARD_SEE_LESS),h=b.find(n.PANE_ACCESSORY_CARD_EXPAND_CONTENT);d.show();
c.hide();h.hide();b.removeProp("data-card-expanded");b.removeProp("data-card-previously-expanded");d.click(function(){d.hide();c.show();h.slideDown(400);b.prop("data-card-expanded",!0);b.parent().animate({scrollTop:b.get(0).offsetTop-30},400);b.prop("data-card-previously-expanded")||(b.prop("data-card-previously-expanded",!0),e.logAccessoryImpressions(g.createAccessoryImpressions()));e.logCount(e.CSM_METRICS.ATTACH_SHOW_MORE)});c.click(function(){c.hide();d.show();h.slideUp(400);b.prop("data-card-expanded",
!1);e.logCount(e.CSM_METRICS.ATTACH_SHOW_LESS)})})};g.initializeAccessoriesTiles=function(){q.when("a-truncate").execute(function(b){a.$(n.PANE_ACCESSORY_TITLE).each(function(){b.get(this).update()});a.$(n.PANE_ACCESSORY_TILE_ITEM).hover(function(){var d=a.$(this).find(n.PANE_ACCESSORY_TITLE);d.length&&b.get(d.get()).update()})});a.$(n.PANE_ACCESSORY_TILE_ITEM).attr("tabindex",0)};g.initializeCategorizedAccessoriesCards=function(){b.elementExists(n.PANE_CATEGORIZED_ACCESSORIES_TILES_CARD)&&(a.on("a:expander:attach_see_more_expander:toggle:expand",
function(){e.logAccessoryImpressions(g.createAccessoryImpressions())}),a.on("a:expander:attach_category_expander:toggle:expand",function(){e.logAccessoryImpressions(g.createAccessoryImpressions())}))};g.initializeAccessoriesCarousel=function(){q.when("a-truncate","a-carousel-framework").execute(function(b,d){if(a.$(n.PANE_ACCESSORY_CAROUSEL).length){a.$(n.PANE_ACCESSORY_TITLE).each(function(){b.get(this).update()});d.createAll();var c=d.getCarousel(a.$(n.PANE_ACCESSORY_CAROUSEL));c&&(c.attachViewedPages=
[1],c.gotoPage(1,{animationDuration:1}),a.on("a:carousel:attach-carousel:change:animating",function(a){a.newValue||(a=c.getAttr("pageNumber"),-1===c.attachViewedPages.indexOf(a)&&(c.attachViewedPages.push(a),e.logAccessoryImpressions(g.createAccessoryImpressions())))}))}})};g.updateLightningDealTimer=function(b){var d=a.$("#attach-accessory-deal-timer-"+b).val()-1;a.$("#attach-accessory-deal-timer-"+b).val(d);var c=g.convertTimeLeftToString(d);a.$("#attach-accessory-deal-timer-string-"+b).text(c);
0===d?g.handleDealHasEnded(b):setTimeout(g.updateLightningDealTimer,1E3,b)};g.convertTimeLeftToString=function(a){var b=Math.floor(a/3600),d=Math.floor(a/60)%60;a%=60;return 0>=b?g.appendZeroIfSingleDigit(d)+":"+g.appendZeroIfSingleDigit(a):b+":"+g.appendZeroIfSingleDigit(d)+":"+g.appendZeroIfSingleDigit(a)};g.appendZeroIfSingleDigit=function(a){return(10>a?"0":"")+a};g.handleDealHasEnded=function(b){a.$(n.PANE_ACCESSORY_ADD_SUCCESS_PREFIX+b).hasClass("aok-hidden")&&(a.$("#attach-accessory-asin-"+
(b+1)).parent().addClass("lightning-deal-ended"),a.$("#attach-accessory-deal-on-waitlist-"+b).addClass("aok-hidden"),a.$("#attach-accessory-deal-has-ended-"+b).removeClass("aok-hidden"))};g.updateLightningDealTimeToCheckoutTimer=function(b){var d=a.$("#attach-accessory-time-to-checkout-"+b).val()-1;a.$("#attach-accessory-time-to-checkout-"+b).val(d);var c=g.convertTimeLeftToString(d);a.$("#attach-accessory-time-to-checkout-string-"+b).text(c);0===d?(a.$("#attach-accessory-ld-in-cart-details-"+b).addClass("aok-hidden"),
a.$(n.PANE_ACCESSORY_ADD_SUCCESS_PREFIX+b).addClass("aok-hidden"),a.$("#tile-add-accessory-badge-"+b).addClass("aok-hidden"),a.$(n.PANE_ACCESSORY_ADD_BUTTON_PREFIX+b).removeClass("aok-hidden"),a.$("#attach-accessory-deal-availability-details-"+b).removeClass("aok-hidden")):setTimeout(g.updateLightningDealTimeToCheckoutTimer,1E3,b)};g.handleLightningDealAddToCart=function(b,d,c){a.$("#attach_add_accessory-button-row-"+b).addClass("aok-hidden");"INWAITLIST"===c?a.$("#attach-accessory-deal-on-waitlist-"+
b).removeClass("aok-hidden"):(a.$("#attach-accessory-deal-availability-details-"+b).addClass("aok-hidden"),a.$("#attach-accessory-time-to-checkout-"+b).val(d/1E3),g.updateLightningDealTimeToCheckoutTimer(b),a.$("#attach-accessory-ld-in-cart-details-"+b).removeClass("aok-hidden"))};g.initializeLightningDealStatusRefresher=function(b){if(a.$("#attach-accessory-deal-has-ended-"+b).hasClass("aok-hidden")){var c=a.$("#attach-accessory-asin-"+(b+1)).val();d.getProduct(c,[d.RESOURCE_INCLUSIONS.DEAL_DETAILS]).then(function(d){d=
d.entity.buyingOptions.filter(function(a){return"LIGHTNING_DEAL"===a.type});d.length&&d[0].dealDetails.entity&&(d=d[0].dealDetails.entity,g.updateLightningDealInfo(b,d.state,d.percentClaimed)&&a.delay(g.initializeLightningDealStatusRefresher,3E4,b))})}};g.updateLightningDealInfo=function(b,d,c){if("AVAILABLE"!==d&&"WAITLIST"!==d)return g.handleDealHasEnded(b),!1;var e=a.$("#attach_add_accessory_button_"+b+"-announce");"WAITLIST"===d?e.html(a.$("#attach-accessory-join-waitlist-string").html()):"AVAILABLE"===
d&&e.html(a.$("#attach-accessory-add-to-cart-string").html());a.$("#attach-accessory-percent-claimed-"+b).text(c);a.$("#attach-accessory-deal-progress-bar-width-"+b).width(c+"%");return!0};return g});"use strict";q.when("A","attach-logging","attach-common","attach-weblabs","attach.utilities.focus-management").register("attach-desktop-side-sheet",function(a,b,f,e,h){var m={},p=[],k=-1,c,l,d,q,t,z,g=null,w=null,C=null,B=!1,A=null,n="false",u="false",y="auto",E=null,v=m.Selectors={PAGE_BACKGROUND:"#a-page",
NAV_FOOTER:"#navFooter",PLACEHOLDER:"#attach-dss-placeholder",SHEET:"#attach-desktop-sideSheet",MODAL_LAYER:".attach-dss-modal-layer",LIGHTBOX:"#attach-popover-lgtbox",WARRANTY_BOX:".attach-warranty-box",WARRANTY_MONTHLY:"#attach-monthly-warranty",WARRANTY_MULTI_DEVICE:"#attach-warranty-multi-device-container"};m.transitionDuration=500;m.onKeyDown=function(a){27===a.which&&m.next()};m.initialize=function(){p=[];f.elementExists(v.MODAL_LAYER)?q=a.$(v.MODAL_LAYER):(q=a.$("\x3cdiv class\x3d'attach-dss-modal-layer'\x3e\x3c/div\x3e"),
q.hide(),q.appendTo(document.body));f.elementExists(v.SHEET)?m.$container=a.$(v.SHEET):(m.$container=a.$('\x3cdiv id\x3d"attach-desktop-sideSheet" class\x3d"a-section attach-desktop-sideSheet"\x3e\x3c/div\x3e'),m.$container.addClass("aok-hidden"),m.$container.appendTo(v.PLACEHOLDER));g=m.$container.parent();f.elementExists(v.LIGHTBOX)||(t=a.$("\x3cdiv id\x3d'attach-popover-lgtbox' class\x3d'attach-dss-backdrop'\x3e\x3c/div\x3e"),t.hide(),t.appendTo(q),t.click(m.next));a.$(document).unbind("keydown",
m.onKeyDown);a.$(document).keydown(m.onKeyDown);c=function(){};l=function(){};d=!0};m.setFailureHandler=function(a){c=a};m.setCloseHandler=function(a){l=a};m.fail=function(a,b){c(a,b)};m.addPane=function(a){p.push(a)};m.removePane=function(a){a=p.indexOf(a);-1<a&&p.splice(a,1)};m.hideMultiQuantityMonthlyWarranties=function(b){var d=f.selectedBaseLightningDeal?a.$("#attach-warranty-pane-ld "+v.WARRANTY_BOX):a.$("#attach-warranty-pane "+v.WARRANTY_BOX),c=d.has("[id\x3dattach-monthly-warranty]");a.$(v.WARRANTY_MULTI_DEVICE).addClass("aok-hidden");
c.addClass("aok-hidden");c.length===d.length&&m.removePane(b)};m.showMonthlyWarranties=function(){var b=(f.selectedBaseLightningDeal?a.$("#attach-warranty-pane-ld "+v.WARRANTY_BOX):a.$("#attach-warranty-pane "+v.WARRANTY_BOX)).has("[id\x3dattach-monthly-warranty]");a.$(v.WARRANTY_MULTI_DEVICE).removeClass("aok-hidden");b.removeClass("aok-hidden")};m.getPaneIndex=function(a){return p.indexOf(a)};m.insertPane=function(a,b){b===x&&(b=p.length);p.splice(b,0,a);d=!0};m.hasPane=function(a){return-1<m.getPaneIndex(a)};
m.next=function(){if(k+1===p.length){t.hide();m.$container.animate({right:z},{duration:m.transitionDuration,complete:function(){var a=p[k];a&&a.hide?a.hide():b.logError("Unable to hide current pane. Index: "+k);k=-1;l();q.hide();E.focus();m.$container.appendTo(g)}});r.ue&&r.ue.count&&r.ue.count("ATTACH_DSS_CLOSE_ACCESSORY_PANE",(r.ue.count("ATTACH_DSS_CLOSE_ACCESSORY_PANE")||0)+1);var d=a.$(v.PAGE_BACKGROUND).get(0);document.body.style.overflow=y;d.ariaHidden=n;d=a.$(v.NAV_FOOTER).get(0);d!==x&&(d.ariaHidden=
u);w.remove();C.remove();a.$("#attach-ld-image-container").first().children().not(":nth-child(1)").remove();a.trigger("HIDE_SIDE_SHEET")}else-1!==k&&(p[k].hide(),p[k+1].show(),k+=1)};m.show=function(){if(d){d=!1;var b=a.$.map(p,function(a){return a.load(m)});a.$.when.apply(a.$,b).fail(m.fail).done(function(){a.$.each(p,function(a,b){b.setup(m)});m.show()})}else{q.show();m.$container.addClass("aok-hidden").attr("role","dialog").attr("aria-modal","true").appendTo(q);k=0;p[k].show();z=m.$container.css("right");
m.$container.removeClass("aok-hidden");m.$container.animate({right:"0"},m.transitionDuration,"linear");t.show();r.ue&&r.ue.count&&(b=a.$("#attach-customerId").val()?"ATTACH_DSS_SHOW_HAS_CUSTOMER_ID":"ATTACH_DSS_SHOW_NO_CUSTOMER_ID",r.ue.count(b,(r.ue.count(b)||0)+1),b="true"===a.$("#attach-is-prime-member").val()?"ATTACH_DSS_IS_PRIME_MEMBER":"ATTACH_DSS_IS_NOT_PRIME_MEMBER",r.ue.count(b,(r.ue.count(b)||0)+1));b=document.body;var c=a.$(v.PAGE_BACKGROUND).get(0);n=c.ariaHidden;c.ariaHidden="true";c=
a.$(v.NAV_FOOTER).get(0);c!==x&&(u=c.ariaHidden,c.ariaHidden="true");y=b.style.overflow;b.style.overflow="hidden";E=document.activeElement;w=a.$('\x3cdiv tabindex\x3d"0"\x3e\x3c/div\x3e').insertBefore(m.$container);C=a.$('\x3cdiv tabindex\x3d"0"\x3e\x3c/div\x3e').insertAfter(m.$container);a.trigger("attach:show_side_sheet")}};m.isEmpty=function(){return 0===p.length};document.addEventListener("focus",function(a){if(!B&&-1!==k){var b=m.$container.get(0);b.contains(a.target)?A=a.target:(B=!0,h.focusDescendant(b,
"first"),A===document.activeElement&&h.focusDescendant(b,"last"),B=!1,A=document.activeElement)}},!0);m.isOpen=function(){return-1!==k};return m});"use strict";q.when("A","attach-common","attach-weblabs","attach-logging","attach-desktop-warranty-pane","attach-desktop-accessories-pane","attach-desktop-side-sheet","attach-variant-registration","attach.utilities.add-to-cart.base-product").register("attach-desktop",function(a,b,f,e,h,m,p,k,c){function l(){return b.elementExists(p.Selectors.PLACEHOLDER)?
b.elementExists(g.STS_FEATURE)?(B||(e.logCount("attachSuppressForShipToStoreFeature"),B=!0),!0):!1:!0}var d={},D,t=d.Events={CLICK:"click",ATTACH_ATC_CLICK_NAMESPACE:"click.attachDSS",WARRANTY_SI_CLICK_NAMESPACE:"click.siatc",VAS_SI_CLICK_NAMESPACE:"click.lsatc",LD_CLAIM_SUCCESS:"deals_claimDealSuccess",LD_CLAIM_ERROR:"deals_claimDealError"},z=d.Endpoints={ERROR_500_URL:"/gp/errors/500.html",WARRANTY_SI_CHECK:"/gp/si/util/is-si-with-triggers.html"},g=d.Selectors={ADD_TO_CART_BUTTON:"#add-to-cart-button",
PICKUP_ATC_BUTTON:"#pickup-add-to-cart-button",ASIN:"#ASIN,#asin",QUANTITY:"#quantity",DEAL_QUANTITY:"#dealx_quantity_dropdown",BASE_ITEM_PRICE_DECIMAL:"#attach-base-product-price",BASE_ITEM_CURRENCY_SYMBOL:"#attach-base-product-currency-symbol",ATTACH_MARKETPLACE_ID:"#attach-marketplaceId",ATTACH_BASE_ASIN:"#attach-baseAsin",INSTALLMENTS_BUTTON:"#installments-button",MBB_WARRANTY_ITEM:"#abbWrapper .abbListItem input[type\x3dcheckbox]",WTY_TWISTER_SELECTED_GROUP:".warranty-twister-selected-box-group",
WTY_TWISTER_WTY_OPTION:".warranty-twister-box-group-warranty-option",LD_BUY_BOX:"#dealsAccordionRow",LD_ATC_BUTTON:".gb-btn-atc, #dealsx_atc_btn",ATTACH_LD_CONTAINER:"#attach-ld-container",STS_FEATURE:"#addProfessionalServicesRow"},w=d.Classes={ATTACH_DSS_ATC:"attach-dss-atc"},x=-1,B=!1,A=function(){a.off(t.LD_CLAIM_SUCCESS,A);a.off(t.LD_CLAIM_ERROR,n);b.selectedBaseLightningDeal||(b.selectedBaseLightningDeal=!0,p.setCloseHandler(d.setupAddToCartButton),d.handleLdAddToCartClick(),q.when("attach-lightning-deals-desktop").execute(function(a){a.handleDealClaim()}))},
n=function(){a.off(t.LD_CLAIM_ERROR,n);a.off(t.LD_CLAIM_SUCCESS,A);a.$(g.LD_ATC_BUTTON).bind(t.CLICK,u)},u=function(){a.$(g.LD_ATC_BUTTON).unbind(t.CLICK,u);a.on(t.LD_CLAIM_SUCCESS,A);a.on(t.LD_CLAIM_ERROR,n)};d.initialize=function(){if(l()||p.isOpen())return!1;d.setupDependencies();d.setupSideSheet();d.setupAddToCartButton()};d.setupDependencies=function(){var b=a.$(g.ATTACH_MARKETPLACE_ID).val();e.initialize(e.FEATURES.DSS,b);e.setPayloadBuilder(function(){return{baseAsin:a.$(g.ASIN).val(),baseItemPriceDecimal:parseFloat(a.$(g.BASE_ITEM_PRICE_DECIMAL).val())||
null,baseItemCurrencySymbol:a.$(g.BASE_ITEM_CURRENCY_SYMBOL).val()||null,quantity:Number(a.$(g.QUANTITY).val())||1,almBrandId:null}});q.when("attach-external-atc-interceptor").execute(function(a){D=a;D.enableModule()})};d.setupSideSheet=function(){p.initialize();p.setFailureHandler(d.failure);var a=b.hasWarranty();!f.isWarrantyPaneSuppressed()&&a&&p.addPane(h);!f.servicesInterstitialDeprecated()||b.hasAccessories()?(p.addPane(m),p.setCloseHandler(d.setupAddToCartButton)):p.setCloseHandler(d.failureTransitionToHUC)};
d.setupAddToCartButton=function(){a.$(document.body).delegate(g.ADD_TO_CART_BUTTON,t.ATTACH_ATC_CLICK_NAMESPACE,d.handleAddToCartClick);a.$(g.ADD_TO_CART_BUTTON).prop("type","button").addClass(w.ATTACH_DSS_ATC);a.$(document.body).delegate(g.INSTALLMENTS_BUTTON,t.ATTACH_ATC_CLICK_NAMESPACE,d.handleAddToCartClick);a.$(g.INSTALLMENTS_BUTTON).prop("type","button").addClass(w.ATTACH_DSS_ATC);a.$(document.body).delegate(g.PICKUP_ATC_BUTTON,t.ATTACH_ATC_CLICK_NAMESPACE,d.handleAddToCartClick);a.$(g.PICKUP_ATC_BUTTON).prop("type",
"button").addClass(w.ATTACH_DSS_ATC);b.elementExists(g.LD_BUY_BOX)&&b.elementExists(g.ATTACH_LD_CONTAINER)?(a.$(g.LD_ATC_BUTTON).bind(t.CLICK,u).addClass(w.ATTACH_DSS_ATC),!f.isWarrantyPaneSuppressed()&&b.hasWarranty()&&!p.hasPane(h)&&-1<x&&p.insertPane(h,x),e.logCountOnce(e.CSM_METRICS.ATTACH_BASE_LD_PRESENT)):b.elementExists(g.LD_BUY_BOX)&&!b.elementExists(g.ATTACH_LD_CONTAINER)&&e.logCount(e.CSM_METRICS.DSS_LD_MISSING_ATTACH);e.logCount(e.CSM_METRICS.ATTACH_SIDE_SHEET_CLOSE)};d.failure=function(a,
c){switch(a){case b.FailureModes.ERROR_500:d.failureError500();break;case b.FailureModes.RESUBMIT_BUY_BOX:d.failureResubmitBuyBox();break;case b.FailureModes.UNBIND_ATC:d.failureUnbindATC();break;case b.FailureModes.REBIND_ATC:d.failureRebindATC();break;default:case b.FailureModes.TRANSITION_TO_HUC:d.failureTransitionToHUC()}};d.failureError500=function(){r.location=z.ERROR_500_URL};d.failureResubmitBuyBox=function(){b.selectedBaseLightningDeal?d.failureRebindATC():(d.failureUnbindATC(),b.buyButton.click())};
d.failureUnbindATC=function(){a.$(document.body).undelegate(g.ADD_TO_CART_BUTTON,t.ATTACH_ATC_CLICK_NAMESPACE);a.$(document.body).undelegate(g.INSTALLMENTS_BUTTON,t.ATTACH_ATC_CLICK_NAMESPACE);a.$(g.INSTALLMENTS_BUTTON).prop("type","submit");a.$(document.body).undelegate(g.PICKUP_ATC_BUTTON,t.ATTACH_ATC_CLICK_NAMESPACE);a.$(g.PICKUP_ATC_BUTTON).prop("type","submit");a.$(g.ADD_TO_CART_BUTTON).prop("type","submit")};d.failureTransitionToHUC=function(){if(b.selectedBaseLightningDeal)return d.failureUnbindATC();
f.servicesInterstitialDeprecated()?a.$(document.body).undelegate(g.ADD_TO_CART_BUTTON,t.VAS_SI_CLICK_NAMESPACE):a.$(document.body).undelegate(g.ADD_TO_CART_BUTTON,t.WARRANTY_SI_CLICK_NAMESPACE);f.servicesInterstitialDeprecated()?a.$(document.body).undelegate(g.INSTALLMENTS_BUTTON,t.VAS_SI_CLICK_NAMESPACE):a.$(document.body).undelegate(g.INSTALLMENTS_BUTTON,t.WARRANTY_SI_CLICK_NAMESPACE);f.servicesInterstitialDeprecated()?a.$(document.body).undelegate(g.PICKUP_ATC_BUTTON,t.VAS_SI_CLICK_NAMESPACE):
a.$(document.body).undelegate(g.PICKUP_ATC_BUTTON,t.WARRANTY_SI_CLICK_NAMESPACE);d.failureResubmitBuyBox()};d.failureRebindATC=function(){d.setupAddToCartButton()};d.handleAddToCartClick=function(c){b.buyButton=a.$(c.target);a.$(document.body).undelegate(g.ADD_TO_CART_BUTTON,t.ATTACH_ATC_CLICK_NAMESPACE);a.$(document.body).undelegate(g.PICKUP_ATC_BUTTON,t.ATTACH_ATC_CLICK_NAMESPACE);a.$(document.body).undelegate(g.INSTALLMENTS_BUTTON,t.ATTACH_ATC_CLICK_NAMESPACE);b.getAtcForm().append(b.buyButton.filter("input").clone().attr("type",
"hidden"));b.elementExists(g.LD_BUY_BOX)&&a.$(g.LD_ATC_BUTTON).unbind(t.CLICK,u);b.selectedBaseLightningDeal||!f.servicesInterstitialDeprecated()||b.hasAccessories()||p.setCloseHandler(d.failureTransitionToHUC);a.$.when().pipe(d.checkCanAddBaseProduct).pipe(d.checkWarranty).pipe(d.checkFeatureExists).pipe(d.show).fail(d.failure);c.preventDefault();c.stopImmediatePropagation();return!1};d.handleLdAddToCartClick=function(){a.$(document.body).undelegate(g.ADD_TO_CART_BUTTON,t.ATTACH_ATC_CLICK_NAMESPACE);
a.$(g.LD_ATC_BUTTON).unbind(t.CLICK,u);a.$.when().pipe(d.checkWarranty).pipe(d.checkFeatureExists).pipe(d.show).fail(d.failure)};d.checkCanAddBaseProduct=function(){c.canAddWithCartApi(b.getAtcForm())?e.logCount("Attach.CanAddBaseProduct.CartAPI"):e.logCount("Attach.CanAddBaseProduct.Gurupa")};d.checkFeatureExists=function(){if(d.shouldSuppressForFeatureNotPresent())return b.selectedBaseLightningDeal?(a.trigger("HIDE_SIDE_SHEET"),b.selectedBaseLightningDeal=!1,b.reject(b.FailureModes.REBIND_ATC)):
b.reject(b.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_SUPPRESSED_FEATURE_DOES_NOT_EXIST"})};d.checkWarranty=function(){if(!f.isWarrantyPaneSuppressed()){var c=!1,g=f.isDssMbsEnhancementEnabled()?a.$("#attach-warranty-ld .attach-warranty-box").length:a.$("#attach-warranty-ld #attach-warranty-asin").val();!b.selectedBaseLightningDeal||a.$("#atch__bl").length&&g?d.shouldSuppressForWarrantyInMbb()?(c=!0,e.logCount("ATTACH_DSS_SUPPRESSED_MBB_WARRANTY_CHECKED",1)):b.elementExists(".mbb__mdbi")||0<
a.$("#multidevice-eligible-flag").length?c=!0:f.servicesInterstitialDeprecated()&&d.shouldSuppressforMultiQuantityMonthlyWarranty()?(f.isDssMbsEnhancementEnabled()?p.hideMultiQuantityMonthlyWarranties(h):c=!0,e.logCount("ATTACH_DSS_SUPPRESSED_MULTI_QUANTITY_MONTHLY_WARRANTY",1)):f.isDssMbsEnhancementEnabled()&&p.showMonthlyWarranties():(x=p.getPaneIndex(h),c=!0);c&&p.removePane(h)}};d.handleSICheck=function(a){if(!a)return b.reject(b.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_SUPPRESSED_SI_CHECK_FAILURE"});
a.suppressSi&&(p.removePane(h),e.logCount("ATTACH_DSS_SUPPRESSED_SI",1))};d.handleSIFailure=function(){return b.reject(b.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_SUPPRESSED_SI_CHECK_FAILURE"})};d.shouldSuppressForFeatureNotPresent=function(){return f.servicesInterstitialDeprecated()?!b.elementExists(p.Selectors.PLACEHOLDER)||p.isEmpty():!b.elementExists(p.Selectors.PLACEHOLDER)||!b.hasAccessories()||!b.elementExists(g.ATTACH_MARKETPLACE_ID)||!b.elementExists(g.ATTACH_BASE_ASIN)};d.shouldSuppressForWarrantyInMbb=
function(){return f.isWarrantyTwisterPlusDesktopEnabled()?0<a.$(g.MBB_WARRANTY_ITEM).filter(":checked").length||0<a.$(g.WTY_TWISTER_SELECTED_GROUP).filter(g.WTY_TWISTER_WTY_OPTION).length:0<a.$(g.MBB_WARRANTY_ITEM).filter(":checked").length};d.shouldSuppressforMultiQuantityMonthlyWarranty=function(){var d=f.isLdDssMbsEnhancementEnabled()&&b.selectedBaseLightningDeal?Number(a.$(g.DEAL_QUANTITY).val())||1:Number(a.$(g.QUANTITY).val())||1;return b.hasMonthlyWarranty()&&1<d};d.show=function(){p.show()};
a.on("a:popover:show:dss-basisprice-legal-message",function(a){a.popover.$container.css("z-index",6E3)});return d});q.when("A","attach-desktop","attach-weblabs","ready").execute("attach-desktop-main",function(a,b,f){b.initialize();a.on("a:pageUpdate",a.debounce(function(){b.initialize();a.trigger("attach:dss:initialized")},300))});"use strict";q.when("A","attach-logging","attach-common").register("attach-lightning-deals-common",function(a,b,f){var e={Constants:{ATTACH_LD_CONTAINER:'\x3cdiv id\x3d"attach-ld-container" class\x3d"aok-hidden"\x3e\x3c/div\x3e',
ALERTS:["a-alert-success","a-alert-warning","a-alert-error"],ATTACH_LD_TIME:'\x3cp class\x3d"a-color-success a-text-bold" id\x3d"attach-ld-time"\x3e\x3c/p\x3e'},Selectors:{ATTACH_LD_CONTAINER:"#attach-ld-container",ATTACH_LD_ALERT:"#attach-ld-alert",ATTACH_LD_ICON:"#attach-ld-icon",ATTACH_LD_STATUS:"#attach-ld-status",ATTACH_LD_SUCCESS:"#attach-ld-success",ATTACH_LD_RECLAIM:"#attach-ld-reclaim",ATTACH_LD_EXPIRED:"#attach-ld-expired",ATTACH_LD_ERROR:"#attach-ld-error",ATTACH_LD_INFO:".attach-ld-info",
ATTACH_LD_TIME:"#attach-ld-time",ATTACH_BASE_ASIN:"#attach-baseAsin, #attach-base-asin",ATTACH_MARKETPLACE:"#attach-marketplaceId",LD_TIMER_PREFIX:"#deal_checkout_timer_",LD_ID_OBJECT:"div[id^\x3dgb_atc_]",LD_ATC_DECLARATIVE:'*[data-action\x3d"dealsx-addtocart-button-action"]',LD_TIMER:"#dealsx_checkout_timer"},Events:{CLICK:"click",LD_CLAIM_SUCCESS:"deals_claimDealSuccess",DSS_CLOSE:"HIDE_SIDE_SHEET",MBS_CLOSE:"a:sheet:afterHide:attach_accessory_sheet"},DealStates:{AVAILABLE:"AVAILABLE",UNKNOWN:"UNKNOWN",
UPCOMING:"UPCOMING",WAITLIST:"WAITLIST",WAITLISTFULL:"WAITLISTFULL"},CustomerDealStates:{CLAIMED:"CLAIMED",EXPIRED:"EXPIRED",IN_CART:"IN_CART",IN_WAITLIST:"IN_WAITLIST",NONE:"NONE",PENDING_ATC:"PENDING_ADD_TO_CART",UNKNOWN:"UNKNOWN"}};e.dealItemState;e.dealCustomerState;e.dealMsToCustomerStateExpiry;e.dealId;e.baseAsin;e.marketplace;e.initializeAttachLD=function(){e.baseAsin=a.$(e.Selectors.ATTACH_BASE_ASIN).val();e.marketplace=a.$(e.Selectors.ATTACH_MARKETPLACE).val();var b=a.$(e.Selectors.LD_ATC_DECLARATIVE).data();
b.dealsxAddtocartButtonAction&&b.dealsxAddtocartButtonAction.dealId&&(e.dealId=b.dealsxAddtocartButtonAction.dealId);c()};e.hasLightningDealTimer=function(){return f.elementExists(e.Selectors.LD_TIMER)};e.attachDealTimerExists=function(){return 0<a.$(e.Selectors.ATTACH_LD_INFO+" p").length};e.updateLDUX=function(){0>e.dealMsToCustomerStateExpiry&&(e.dealCustomerState=e.CustomerDealStates.EXPIRED);switch(e.dealItemState){case e.DealStates.AVAILABLE:case e.DealStates.WAITLIST:switch(e.dealCustomerState){case e.CustomerDealStates.NONE:case e.CustomerDealStates.CLAIMED:case e.CustomerDealStates.IN_CART:case e.CustomerDealStates.IN_WAITLIST:case e.CustomerDealStates.PENDING_ATC:h();
break;case e.CustomerDealStates.EXPIRED:m(e.Selectors.ATTACH_LD_RECLAIM);break;default:p()}a.delay(e.updateLDUX,1E3);break;case e.DealStates.UPCOMING:case e.DealStates.WAITLISTFULL:m(e.Selectors.ATTACH_LD_EXPIRED);break;default:p()}};var h=function(){if(e.dealCustomerState!==e.DealStates.NONE){k(e.Selectors.ATTACH_LD_SUCCESS);var b=a.$(e.Selectors.LD_TIMER).text();a.$(e.Selectors.ATTACH_LD_TIME).text(b);e.dealMsToCustomerStateExpiry-=1E3;a.$(e.Selectors.ATTACH_LD_ALERT).hasClass("a-alert-success")||
(a.$(e.Selectors.ATTACH_LD_ALERT).removeClass("a-alert-warning a-alert-error").addClass("a-alert-success"),a.$(e.Selectors.ATTACH_LD_ICON).removeClass("a-icon-warning a-icon-error").addClass("a-icon-success"));a.$("#attachSiAddCoverage-ld").hasClass("aok-hidden")&&a.$("#attachSiAddCoverage-ld").removeClass("aok-hidden")}},m=function(b){if(e.dealCustomerState===e.CustomerDealStates.IN_CART||e.dealCustomerState==e.CustomerDealStates.CLAIMED)return h();k(b);a.$(e.Selectors.ATTACH_LD_ALERT).removeClass("a-alert-success").addClass("a-alert-warning");
a.$(e.Selectors.ATTACH_LD_ICON).removeClass("a-icon-success").addClass("a-icon-warning");a.$("#attachSiAddCoverage-ld").addClass("aok-hidden")},p=function(){k(e.Selectors.ATTACH_LD_ERROR);a.$(e.Selectors.ATTACH_LD_ALERT).removeClass("a-alert-success").addClass("a-alert-error");a.$(e.Selectors.ATTACH_LD_ICON).removeClass("a-icon-success").addClass("a-icon-error")},k=function(b){b=a.$(b);b.hasClass("aok-hidden")&&(a.$(e.Selectors.ATTACH_LD_STATUS).find("\x3e div:not(.aok-hidden)").each(function(){a.$(this).addClass("aok-hidden")}),
b.removeClass("aok-hidden"))},c=function(){var c=new RegExp("/api/marketplaces/"+e.marketplace+"/products/"+e.baseAsin+"?.*buyingOptionTypes\x3dLIGHTNING_DEAL");a.$(document).ajaxSuccess(function(a,h,f){if(c.test(f.url))try{var d=JSON.parse(h.responseText).entity.buyingOptions;d=d.filter(function(a){return a.dealDetails.entity.id==e.dealId});if(1!=d.length)throw Error("Multiple LD buyingOptions found for deal: "+e.dealId);var g=d[0].dealCustomerStatus.entity;e.dealItemState=d[0].dealDetails.entity.state;
e.dealCustomerState=g.state;e.dealMsToCustomerStateExpiry=new Date(g.expiryTime)-new Date}catch(w){b.logCount(b.CSM_METRICS.ATTACH_BASE_LD_DEAL_STATUS_ERROR)}})};return e});"use strict";q.when("A","attach-common","attach-lightning-deals-common","attach-desktop-side-sheet","attach-logging").register("attach-lightning-deals-desktop",function(a,b,f,e,h){var m={},p=/(\{0})/,k=function(){f.initializeAttachLD();b.setupDesktopEgressButtons();2===a.$(f.Selectors.ATTACH_LD_ALERT).find(".a-icon").length&&a.$(f.Selectors.ATTACH_LD_ALERT+
" .a-icon").first().remove();a.$("#attach-ld-close-button").hasClass("close-button")||a.$("#attach-ld-close-button").addClass("close-button").click(e.next);if(f.hasLightningDealTimer()&&!f.attachDealTimerExists()){var k=a.$("#attach-base-ld-timer").val();k&&k.length?k.split(p).forEach(function(b){b="{0}"===b?f.Constants.ATTACH_LD_TIME:"\x3cp\x3e"+b+"\x3c/p\x3e";a.$("#attach-ld-success .attach-ld-info").append(b)}):(h.logCount(h.CSM_METRICS.DSS_BASE_LD_MISSING_TIMER),h.logError({message:"Attach desktop base LD missing timer translation. Base ASIN\x3d"+
a.$("#attach-baseAsin").val()}))}a.$(f.Selectors.ATTACH_LD_CONTAINER).removeClass("aok-hidden");a.on(f.Events.DSS_CLOSE,c);f.updateLDUX()},c=function(){a.off(f.Events.DSS_CLOSE,c);b.selectedBaseLightningDeal=!1;a.$("#attach-accessory-pane").height("");a.$(f.Selectors.ATTACH_LD_CONTAINER).addClass("aok-hidden");a.$(".attach-primary-atc-confirm-box").removeClass("aok-hidden");a.$("#attachSiAddCoverage").removeClass("aok-hidden")};m.handleDealClaim=function(){h.logCount(h.CSM_METRICS.DSS_BASE_LD_ATC_CLICK);
f.dealCustomerState=f.CustomerDealStates.IN_CART;f.dealItemState=f.DealStates.AVAILABLE;f.dealMsToCustomerStateExpiry=x;k()};return m});"use strict";q.when("A","attach-desktop","dp-util-cookie","cf").execute(function(a,b,f){"000-0000000-8675309"===a.$("#attach-sessionId").val()&&a.$("#attach-sessionId").val(f("session-id"))});"use strict";q.when("A","3p-promise","attach.utilities.price-formatter").register("attach.amazonapi.client",function(a,b,f){var e={buildRequestUrl:function(b){var e=a.$("#attach-aapi-ajax-endpoint").val()+
"/"+b.apiPath,h=[];if(b.additionalParameters)for(var f in b.additionalParameters)b.additionalParameters.hasOwnProperty(f)&&h.push(f+"\x3d"+encodeURIComponent(b.additionalParameters[f]));h.length&&(e+="?"+h.join("\x26"));return e},buildAcceptHeader:function(a){var b=["application/vnd.com.amazon.api+json",'type\x3d"'+a.responseType+'"'];a.resourceInclusions&&b.push('expand\x3d"'+a.resourceInclusions.join(",")+'"');return b.join("; ")},buildRequestHeaders:function(b){var h=a.$("#attach-aapi-ajax-csrf-token").val();
h={Accept:e.buildAcceptHeader(b),"Accept-Language":a.$("#attach-languageOfPreference,#attach-language-of-preference").val().replace(/_/g,"-"),"x-cc-currency-of-preference":a.$("#attach-currency-of-preference").val(),"x-api-csrf-token":h};var f=a.$('meta[name\x3d"encrypted-slate-token"]');f.length&&f.attr("content")?(r.ue.count("attachAjaxSlateTokenPresent",1),h["x-amzn-encrypted-slate-token"]=f.attr("content")):r.ue.count("attachAjaxSlateTokenAbsent",1);b.requestType&&(h["Content-Type"]='application/vnd.com.amazon.api+json; type\x3d"'+
b.requestType+'"');return h},makeRequest:function(h){return new b(function(b,f){var k=e.buildRequestUrl(h),c=e.buildRequestHeaders(h),l=h.data?JSON.stringify(h.data):x;return a.$.ajax({type:h.method,url:k,headers:c,data:l,xhrFields:{withCredentials:!0},dataType:"json",success:function(a){b(a)},error:function(a){var b={statusCode:a.status,xhr:a};if(a.responseText)try{b.data=JSON.parse(a.responseText)}catch(t){b.data=a.responseText}f(b)}})})},isException:function(a){return a&&"undefined"!==typeof a.statusCode&&
"undefined"!==typeof a.xhr},formatMoney:function(b){return b.displayString?b.displayString:b.convertedFrom&&b.currencyCode===b.convertedFrom.currencyCode&&b.convertedFrom.displayString?b.convertedFrom.displayString:f.formatPrice(Number(b.amount),b.currencyCode||a.$("#attach-currency-of-preference").val(),a.$("#attach-languageOfPreference,#attach-language-of-preference").val().replace(/_/g,"-"))}};return e});"use strict";q.when("attach.amazonapi.client").register("attach.amazonapi.cart.add-items",
function(a){var b={RESPONSE_TYPE_SUCCESS:"cart.add-items/v1",RESPONSE_TYPE_INCOMPLETE_ADD:"add-items.incomplete-add.error/v1"},f=function(a){return a},e=function(a){q.when("mash").execute("atc-mbs-mash",function(b){b.cart.didUpdate({newCartQuantity:a.entity.count.entity.items})});return a},h=function(a){if(a.data&&"add-items.incomplete-add.error/v1"===a.data.type)return a.data;throw a;};b.addItems=function(b,p){b={apiPath:"cart/carts/retail/items",requestType:"cart.add-items.request/v1",responseType:"cart.add-items/v1",
method:"POST",data:{items:b},additionalParameters:{}};p&&(b.additionalParameters.ref=p);return a.makeRequest(b).then(f).then(e).catch(h)};return b});"use strict";q.when("attach.amazonapi.client").register("attach.amazonapi.cart.items",function(a){return{items:function(b,f){b={apiPath:"cart/items",requestType:"cart.items.request/v1",responseType:"cart.items/v1",method:"GET",additionalParameters:b};f&&(b.additionalParameters.ref=f);return a.makeRequest(b)}}});"use strict";q.when("attach.amazonapi.client").register("attach.amazonapi.cart.summary",
function(a){var b={CART_TYPE_RETAIL:"RETAIL",CART_TYPE_LOCAL_MARKET:"LOCAL_MARKET",EMPTY_CART_RETAIL:{itemCount:0,lastModified:null,cartType:"RETAIL",subtotal:{amount:0}}},f=function(a){return a};b.get=function(b){var e={apiPath:"cart/summary",responseType:"cart.summary/v1",method:"GET",additionalParameters:{}};b&&(e.additionalParameters.cartTypes=b);return a.makeRequest(e).then(f)};return b});"use strict";q.when("attach.amazonapi.client").register("attach.amazonapi.deals.claim-and-add-to-cart",function(a){var b=
{RESPONSE_TYPE_SUCCESS:"deals.claim.response/v1",RESPONSE_TYPE_QUANTITY_ERROR:"deal.claim.quantity_restriction_violation.error/v1",RESPONSE_TYPE_ERROR:"error/v1"},f=function(a){return a},e=function(a){throw a;};b.claimAndAddDeal=function(b,m,p){b={apiPath:"deals/"+b+"/claim-and-add-to-cart",requestType:"deals.claim.request/v1",responseType:"deals.claim.response/v1",method:"POST",data:{asin:m,quantity:1},additionalParameters:{}};p&&(b.additionalParameters.ref=p);return a.makeRequest(b).then(f).catch(e)};
return b});"use strict";q.when("A").register("attach.amazonapi.products.media-builder",function(a){var b={},f,e,h,m,p,k,c,l;b.init=function(a){f=a;p=m=h=e=x;k=f.width;c=f.height;l=[];f.styleCode&&l.push(encodeURIComponent(f.styleCode));return b};b.cdn=function a(a){e=a;return b};b.withNameAndOU=function(a,c,e){h=a.startsWith("/")?a.substring(1):a;m=1===c.length?"0"+c:c;p=e;return b};b.crop=function(a,e,f,h){k=Math.round(Math.min(f,k-a));c=Math.round(Math.min(h,c-e));l.push("_CR"+[a,e,f,h].join());
return b};b.autoCrop=function(){l.push("_AC");return b};b.blur=function(a){l.push("_BL"+a);return b};b.scaleToRectangle=function(a,e){k=a;c=e;l.push("_SR"+a+","+e);return b};b.scaleToSquare=function(a){c=k=a;l.push("_SS"+a);return b};b.scaleToWidth=function(a){k>a&&(c=Math.round(a*c/k),k=Math.round(a));l.push("_SX"+a);return b};b.scaleToHeight=function(a){c>a&&(k=Math.round(a*k/c),c=Math.round(a));l.push("_SY"+a);return b};b.scaleToLongest=function(a){k>c?a<k&&(c=Math.round(a*c/k),k=Math.round(a)):
a<c&&(k=Math.round(a*k/c),c=Math.round(a));l.push("_SL"+a);return b};b.upscaleToHeight=function(a){k=0<c?Math.round(a*k/c):0;c=Math.round(a);this.rendering.push("_UY"+a);return b};b.upscaleToLongest=function(a){k>c?(c=Math.round(a*c/k),k=Math.round(a)):(k=0<c?Math.round(a*k/c):0,c=Math.round(a));this.rendering.push("_UL"+a);return b};b.upscaleToWidth=function(a){c=0<k?Math.round(a*c/k):0;k=Math.round(a);this.rendering.push("_UX"+a);return b};b.custom=function a(a){this.rendering.push(encodeURIComponent(a));
return b};b.build=function(){var a=[];a.push("https://");a.push(e?e:"m.media-amazon.com");h?a.push("/images/G/",m,"/",h,"._CB",p):a.push("/images/I/",f.physicalId,".");l.length&&a.push(l.join(""));(p||l.length)&&a.push("_");"."!==a[a.length-1]&&a.push(".");a.push(f.extension);return{url:a.join(""),width:k,height:c}};return b});"use strict";q.when("attach.amazonapi.client").register("attach.amazonapi.products.productV2",function(a){return{RESPONSE_TYPE_SUCCESS:"product/v2",RESOURCE_INCLUSIONS:{LINKS:"links(product.links/v2)",
PRODUCT_IMAGES:"productImages(product.product-images/v2)",DEAL_DETAILS:"buyingOptions[].dealDetails(product.deal-details/v1)"},getProduct:function(b,f,e,h){b={apiPath:"products/"+b,requestType:"product.request/v2",responseType:"product/v2",method:"GET",resourceInclusions:f,additionalParameters:e||{}};h&&(b.additionalParameters.ref=h);return a.makeRequest(b)},getProductsBatch:function(b,f,e,h){b={apiPath:"products/"+b.join(","),requestType:"product.request/v2",responseType:"collection(product/v2)/v1",
method:"GET",resourceInclusions:f,additionalParameters:e||{}};h&&(b.additionalParameters.ref=h);return a.makeRequest(b)}}});"use strict";q.when("A").register("attach.events",function(a){return{Accessories:{ADD_TO_CART_STATUS:"attach:accessories:add-to-cart:status",SHOW:"attach:accessories:pane:show",HIDE:"attach:accessories:pane:hide",SEE_MORE_EXPAND:"attach:accessories:see-more:expand",SEE_MORE_COLLAPSE:"attach:accessories:see-more:collapse",CAROUSEL_PAGE_VIEW:"attach:accessories:carousel:page-view"},
Cart:{ADD_BASE_HUC:"attach:add-base-to-cart",ADD_BASE_HUC_SUCCESS:"attach:add-base-to-cart:huc-success",UPDATE_SUMMARY:"attach:cart:summary:update"}}});"use strict";q.when("A").register("attach.utilities.add-to-cart.natc-parameter-parser",function(a){var b={},f=/items?\[(\d+(?:\.\w+)?)\]\.?(.*)/,e=/\w+/g,h={asin:"string",offerListingId:"string",quantity:"integer","additionalParameters.giftOptions.includeGiftReceipt":"boolean","additionalParameters.installments.programId":"string","additionalParameters.pickupOption.addressId":"string",
"additionalParameters.pickupOption.locationId":"string"};b.attemptTypeCoercion=function(b,e){if(h.hasOwnProperty(b))switch(h[b]){case "string":return e;case "integer":return parseInt(e);case "boolean":return"true"===e}try{var f=JSON.parse(e);return null===f||"string"===typeof f||a.$.isPlainObject(f)?e:f}catch(c){}return e};b.checkValidParameters=function(a){return a.hasOwnProperty("items[0.base][asin]")||a.hasOwnProperty("item[0].asin")};b.createAddItemsRequestItems=function(a){var h=[],k={},c;for(c in a)if(a.propertyIsEnumerable(c)){var l=
a[c],d=f.exec(c);if(d){var m=d[1];if(d=d[2].match(e)){k.hasOwnProperty(m)||(k[m]={});m=k[m];for(var q=d.join("."),r=0;r<d.length;r++){var g=d[r];r===d.length-1?m[g]=b.attemptTypeCoercion(q,l):(m.hasOwnProperty(g)||(m[g]={}),m=m[g])}}}}for(var w in k)k.propertyIsEnumerable(w)&&(a=k[w],"0.base"===w||"0"===w?h.unshift(a):h.push(a));return h};return b});"use strict";q.when("A","attach-logging","attach-variant-registration","attach.utilities.add-to-cart.natc-parameter-parser","attach.amazonapi.cart.add-items",
"attach.utilities.page-reader").register("attach.utilities.add-to-cart.base-product",function(a,b,f,e,h,m){function p(a){return new k(a)}var k=a.createClass({_container:null,_rawNatcParameters:null,_cartItems:[],init:function(b){var c=a.$(b);this._container=b;b=c.serializeArray();c={};for(var d=0;d<b.length;d++){var f=b[d];c[f.name]=f.value}this._rawNatcParameters=c;this._cartItems=e.createAddItemsRequestItems(this._rawNatcParameters)},isValid:function(){return e.checkValidParameters(this._rawNatcParameters)&&
this.shouldUseNatc()},shouldUseNatc:function(){var b=a.$(this._container).find("[data-a-state*\x3datc-page-state]");0< !b.length&&(b=a.$(this._container).siblings("[data-a-state*\x3datc-page-state]"));0< !b.length&&(b=a.$("[data-a-state*\x3datc-page-state]"),0<b.length&&(b=b.first()));return 0<b.length&&(b=JSON.parse(b.text()))&&b.hasOwnProperty("shouldUseNatc")?b.shouldUseNatc:!0},getAsins:function(){return this._cartItems.map(function(a){return a.asin})},isWarrantyAddedWithBase:function(){var a=
m.getAvailableWarrantyAsinsOnDetailPage(),b=this._cartItems.map(function(a){return a.asin});return a.some(function(a){return b.some(function(b){return b===a})})},execute:function(a){var c=this;return h.addItems(this._cartItems,a?a:"dp_atch_dss_base").then(function(a){b.logCount("attach.utilities.add-to-cart.base-product.success");return{request:c,response:a}}).catch(function(a){b.logCount("attach.utilities.add-to-cart.base-product.error");return{request:c,response:a?a.data:x,error:a}})}});return{canAddWithCartApi:function(a){return p(a).isValid()},
createRequest:p}});"use strict";q.register("attach.utilities.focus-management",function(){var a={attemptFocus:function(a){try{a.focus()}catch(f){}return a===document.activeElement},focusDescendant:function(b,f){if(b&&b.children)for(var e=0;e<b.children.length;e++){var h=b.children.item("last"===f?b.children.length-e-1:e);if(a.attemptFocus(h)||a.focusDescendant(h,f))return!0}return!1}};return a});"use strict";q.when("attach-logging").register("attach.utilities.price-formatter",function(a){var b={};
return{formatPrice:function(f,e,h){if(!r.Intl||!r.Intl.NumberFormat)return a.logCount("attach.utilities.price-formatter:UsedSimpleFormat"),e+" "+f.toFixed(2);a.logCount("attach.utilities.price-formatter:UsedIntlNumberFormat");var m=h+"/"+e;b.hasOwnProperty(m)||(b[m]=new Intl.NumberFormat(h,{style:"currency",currency:e}));return b[m].format(f)}}});"use strict";q.when("A").register("attach.utilities.page-reader",function(a){return{getAvailableWarrantyAsinsOnDetailPage:function(){var b=a.capabilities.mobile?
a.$("input[id|\x3dmbb-checkbox-input]").map(function(){return this.value}).get():a.$('#abbWrapper input[name^\x3d"asin"]').map(function(){return this.value}).get();var f=a.$('[data-action\x3d"warranty-option-swatch-select"]').map(function(){var b=a.$(this).data("warranty-option-swatch-select");return b?b.warrantyAsin:null}).get();return b.concat(f)}}});"use strict";q.register("attach.utilities.strings",function(){var a=/\$\{(?:hash-get\s+)?([^\}]+)\}/g;return{substituteParameters:function(b,f){return b.replace(a,
function(a,b){return f&&f.hasOwnProperty(b)?f[b]:""})}}})});